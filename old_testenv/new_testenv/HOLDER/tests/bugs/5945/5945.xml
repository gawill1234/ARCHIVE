<?xml version="1.0" encoding="UTF-8" standalone="yes" ?><vse-collection name="5945">
<vse-meta/>
<vse-config>
    <crawler>
      <crawl-urls>
	<crawl-url url="http://testbed4.test.vivisimo.com">
	  <curl-options>
	    <curl-option name="default-allow">allow</curl-option>
	    <curl-option name="forced-content-type">keymatch</curl-option>
	  </curl-options>
	</crawl-url>
      </crawl-urls>
    </crawler>
    <converters>
      <converter />
      <converter timing-name="split" type-in="keymatch" type-out="keymatch">
        <converter-execute>awk ' BEGIN { FS="\n"; splitsize=1000; directory="%target_dir"; x=0; } { if( NR % splitsize == 1 ) x=x+1; filename=directory "/split." sprintf("%06d",x) ".txt"; } { print $0 >> filename; } '</converter-execute>
      </converter>
      <converter timing-name="output" type-in="keymatch2" type-out="dead">
        <converter-execute>cp %source_file /tmp/cars.xml</converter-execute>
      </converter>
      <converter timing-name="group properly" type-in="keymatch" type-out="keymatch2">
        <parser type="html-xsl"><![CDATA[<xsl:template match="/">
 <key-match>
   <xsl:apply-templates select="//make[position() = 1 or @name != (preceding-sibling::make)[position() = last()]/@name]" />
   <xsl:apply-templates select="//model" />
 </key-match>
</xsl:template>

<xsl:template match="make">
 <make name="{@name}" />
 <!--xsl:text>make: </xsl:text><xsl:value-of select="@name" /-->
</xsl:template>

<xsl:template match="model">
 <model name="{@name}">
   <make name="{(./preceding-sibling::node())[position() = last()]/@name}" />
 </model>
 <!--xsl:text>model: </xsl:text><xsl:value-of select="@name" />
 <xsl:text>make: </xsl:text><xsl:value-of select="(./preceding-sibling::node())[position() = last()]/@name" /-->
</xsl:template>]]></parser>
      </converter>
      <converter type-in="unknown" type-out="dead">
        <call-function name="vse-converter-binary-files-in-archives" />
      </converter>
      <converter type-in="unknown" program="guess-content %source_file" timing-name="Guess content" />
      <converter type-in="application/ms-office" program="ms-guess %source_file" timing-name="Guess MS Office" />
      <converter type-in="unknown" type-out="text/plain">
        <converter-test how="wc-set" what="path">*.txt</converter-test>
      </converter>
      <call-function name="vse-converter-filetypes" />
      <call-function name="vse-converter-type-normalization" />
      <call-function name="vse-converter-database" />
      <call-function name="vse-converter-powerpoint" />
      <call-function name="vse-converter-1-2-3" />
      <converter type-in="outlook/mail" type-out="text/mailbox">
        <call-function name="vse-converter-pst-to-mailbox" />
      </converter>
      <converter type-in="text/mailbox" type-out="text/mail">
        <call-function name="vse-converter-split-mailbox" />
      </converter>
      <converter type-in="text/mail" type-out="vivisimo/crawl-data">
        <call-function name="vse-converter-mail-message">
          <with name="cache-parser">vse-cache-parser-email</with>
        </call-function>
      </converter>
      <converter type-in="application/documentum" type-out="application/vxml-unnormalized">
        <call-function name="vse-converter-documentum-to-xml" />
      </converter>
      <converter type-out="application/vxml-unnormalized" type-in="application/lotus">
        <call-function name="vse-converter-lotus-to-xml" />
      </converter>
      <converter type-in="application/sharepoint" type-out="application/vxml-unnormalized">
        <call-function name="vse-converter-sharepoint-to-xml" />
      </converter>
      <converter type-in="application/word" type-out="text/html">
        <call-function name="vse-converter-msword" />
      </converter>
      <converter type-in="application/excel" type-out="text/html">
        <call-function name="vse-converter-excel" />
      </converter>
      <converter type-in="application/wordperfect" type-out="text/html">
        <call-function name="vse-converter-wordperfect" />
      </converter>
      <converter type-in="application/openoffice" type-out="text/html">
        <call-function name="vse-converter-openoffice" />
      </converter>
      <converter type-in="application/vnd.ms-project" type-out="application/vxml-unnormalized">
        <call-function name="vse-converter-ms-project" />
      </converter>
      <converter type-in="application/ps" type-out="text/plain">
        <call-function name="vse-converter-postscript" />
      </converter>
      <converter type-in="application/pdf" type-out="text/html">
        <call-function name="vse-converter-pdf" />
      </converter>
      <converter type-in="application/rtf" type-out="text/html">
        <call-function name="vse-converter-rtf" />
      </converter>
      <converter type-in="application/outlook-msg" type-out="vivisimo/crawl-data">
        <call-function name="vse-converter-outlook-msg" />
      </converter>
      <converter type-in="application/flash" type-out="text/html">
        <call-function name="vse-converter-flash" />
      </converter>
      <converter type-in="application/tar" type-out="unknown">
        <call-function name="vse-converter-tar" />
      </converter>
      <converter type-in="application/x-gzip" type-out="unknown">
        <call-function name="vse-converter-gunzip" />
      </converter>
      <converter type-in="application/zip" type-out="unknown">
        <call-function name="vse-converter-unzip" />
      </converter>
      <converter type-in="application/x-compress" type-out="unknown">
        <call-function name="vse-converter-uncompress" />
      </converter>
      <converter type-in="text/html" type-out="application/vxml-unnormalized">
        <call-function name="vse-converter-html" />
      </converter>
      <converter type-in="text/plain" type-out="application/vxml-unnormalized">
        <call-function name="vse-converter-text" />
      </converter>
      <converter type-in="unknown" type-out="application/dbf">
        <converter-test how="wc-set" what="path">*.dbf</converter-test>
      </converter>
      <converter type-in="application/dbf" type-out="text/csv">
        <call-function name="vse-converter-dbf-to-csv" />
      </converter>
      <converter type-in="text/csv" type-out="application/vxml-unnormalized">
        <call-function name="vse-converter-csv-to-vxml" />
      </converter>
      <converter type-in="text/xml" type-out="application/vxml-unnormalized">
        <call-function name="vse-converter-xml-to-vxml" />
      </converter>
      <converter type-in="application/vxml-unnormalized" type-out="application/vxml-unnormalized">
        <call-function name="vse-converter-normalize" />
      </converter>
      <converter type-in="application/vxml-unnormalized" type-out="application/vxml" />
    </converters>
  </vse-config>
</vse-collection>
