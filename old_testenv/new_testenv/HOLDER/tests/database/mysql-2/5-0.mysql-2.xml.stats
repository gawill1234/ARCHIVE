<?xml version="1.0" encoding="UTF-8" standalone="yes" ?><vse-collection id="RO4TdggoDmvP">

<vse-meta name="mysql-2" creator="gary_testing" create-time="1156876703" elt-id="2" max-elt-id="2" push-toggle="push-toggle">
  
<vse-meta-info name="maintainers" elt-id="1"><![CDATA[gary_testing]]></vse-meta-info></vse-meta>
<vse-config elt-id="2035" max-elt-id="2334">

<crawler elt-id="2036"><call-function name="vse-crawler-seed-database-java" elt-id="2309"><with name="database-system" elt-id="2135"><![CDATA[mysql]]></with><with name="server" elt-id="2136"><![CDATA[testbed5-2]]></with><with name="port" elt-id="2145"><![CDATA[3306]]></with><with name="database" elt-id="2137"><![CDATA[WWII_Navy]]></with><with name="username" elt-id="2138"><![CDATA[gaw]]></with><with name="password" elt-id="2139"><![CDATA[{vcrypt}TMWiymi8UsQ9QvtqWkxuhw==]]></with><with name="tables" elt-id="2140"><![CDATA[vessel
vessel_url
alignment
designation]]></with></call-function>
<crawl-options elt-id="2037">
  <curl-option name="max-hops" elt-id="2038"><![CDATA[15]]></curl-option>
  <curl-option name="max-data-size" elt-id="2039"><![CDATA[20000000]]></curl-option>
  <curl-option name="default-allow" elt-id="2040"><![CDATA[disallow]]></curl-option>
  <curl-option name="error-expires" elt-id="2041"><![CDATA[604800]]></curl-option>
  <curl-option name="delay" elt-id="2042"><![CDATA[100]]></curl-option>
  <crawl-option name="n-fetch-threads" elt-id="2043"><![CDATA[50]]></crawl-option>
  <curl-option name="user-agent" elt-id="2044"><![CDATA[VSE/1.0]]></curl-option>
  <curl-option name="connect-timeout" elt-id="2045"><![CDATA[30]]></curl-option>
  <curl-option name="timeout" elt-id="2046"><![CDATA[600]]></curl-option>
  <crawl-option name="output-minimum-size" elt-id="2047"><![CDATA[1000000000]]></crawl-option>
</crawl-options>

<call-function name="vse-crawler-apache-directory-browsing" elt-id="2048" />
<call-function name="vse-crawler-binary-file-extensions" elt-id="2049" />
<call-function name="vse-crawler-bugzilla" elt-id="2050" />
<call-function name="vse-crawler-calendars-forums" elt-id="2051" />
<call-function name="vse-crawler-no-delay-for-files" elt-id="2052" />
<call-function name="vse-crawler-lotus-domino-site" elt-id="2053" />
<call-function name="vse-crawler-session-ids" elt-id="2054" />
<call-function name="vse-crawler-verity-query-service" elt-id="2055" />
<call-function name="vse-crawler-wiki" elt-id="2056" />

</crawler>

<vse-index elt-id="2303">

<vse-index-option name="stem" elt-id="2058"><![CDATA[depluralize]]></vse-index-option>
<vse-index-option name="stoplist" elt-id="2059"><![CDATA[none]]></vse-index-option>
<vse-index-option name="url-weight" elt-id="2060"><![CDATA[1.0]]></vse-index-option>
<vse-index-option name="host-weight" elt-id="2061"><![CDATA[1.0]]></vse-index-option>
<vse-index-option name="link-analysis-reps" elt-id="2062"><![CDATA[100]]></vse-index-option>


<vse-index-option name="summary-context-words" elt-id="2065"><![CDATA[16]]></vse-index-option>
<vse-index-option name="summary-bytes" elt-id="2066"><![CDATA[150]]></vse-index-option>
<vse-index-option name="max-content-size" elt-id="2067"><![CDATA[1000000]]></vse-index-option>
<vse-url-equivs name="vse-url-equivs" elt-id="2068">
  <vse-url-equiv old-prefix="smb://" new-prefix="file://///" elt-id="2069" />
</vse-url-equivs>


</vse-index>

<converters elt-id="2070"><converter elt-id="2333" type-in="gawtype" type-out="application/vxml-unnormalized"><parser type="html-xsl" elt-id="2334"><![CDATA[<?xml version="1.0" encoding="UTF-8" standalone="yes" ?><xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">

<xsl:output method="xml" indent="yes" />

<xsl:key name="group-ves-id" match="document" use="content[@name='vessel_id']" />
<xsl:key name="group-cod-id" match="document" use="content[@name='code']" />
<xsl:key name="group-url-id" match="document" use="@url" />


<xsl:template name="do_content">
   <xsl:if test="not(@name='vessel_id')">
      <xsl:copy-of select="." />
   </xsl:if>
</xsl:template>

<xsl:template name="gshiptype">
   <xsl:param name="shiptype" />
   <xsl:for-each select="key('group-cod-id', $shiptype)">
      <xsl:for-each select="content">
         <xsl:if test="@name='ship_type'">
            <xsl:call-template name="do_content" />
         </xsl:if>
      </xsl:for-each>
   </xsl:for-each>
</xsl:template>

<xsl:template name="do_document">
   <xsl:for-each select="//document">
      <xsl:if test="@url">
         <xsl:variable name="myid" select="content[@name='vessel_id']" />
         <xsl:variable name="myurl" select="content[@name='url_locater']" />
         <xsl:for-each select="key('group-ves-id', $myid)[1]">

            <xsl:text disable-output-escaping="yes"><![CDATA[
               <document url="]]]><![CDATA[]></xsl:text>
            <xsl:value-of select="$myurl" />
            <xsl:text disable-output-escaping="yes"><![CDATA[">]]]><![CDATA[]></xsl:text>

            <xsl:for-each select="content">
               <xsl:choose>
                  <xsl:when test="(@name = 'title')">
                     <xsl:call-template name="do_content" />
                  </xsl:when>
                  <xsl:when test="(@name = 'des_code')">
                     <xsl:variable name="dcode" select="." />
                     <xsl:call-template name="gshiptype">
                        <xsl:with-param name="shiptype" select="$dcode" />
                     </xsl:call-template>
                  </xsl:when>
                  <xsl:when test="(@name = 'nation')">
                     <xsl:call-template name="do_content" />
                  </xsl:when>
               </xsl:choose>
            </xsl:for-each>
            <content name="url_locater">
            <xsl:value-of select="$myurl" />
            </content>
            <xsl:text disable-output-escaping="yes"><![CDATA[
               </document>]]]><![CDATA[]></xsl:text>
         </xsl:for-each>
      </xsl:if>
   </xsl:for-each>
</xsl:template>

<xsl:template match="/">
   <vse>
   <xsl:call-template name="do_document" />
   </vse>
</xsl:template>


</xsl:stylesheet>]]></parser></converter><call-function name="vse-converter-database" elt-id="2320"><with name="title" elt-id="2266"><![CDATA[content[@name='vessel_name']]]></with><with name="url" elt-id="2267"><![CDATA[content[@name='url_locater']]]></with><with name="action" elt-id="2314"><![CDATA[viv:choose(@name='vessel_name', 'cluster', 'none')]]></with><with name="key" elt-id="2272"><![CDATA[content[@name='vessel_id']]]></with><with name="key-normalize" elt-id="2296"><![CDATA[key-normalize]]></with><with name="output-content-type" elt-id="2319"><![CDATA[gawtype]]></with></call-function>
  <converter type-in="unknown" type-out="dead" elt-id="2071">
    <call-function name="vse-converter-binary-files-in-archives" elt-id="2072" />
  </converter>
  <converter type-in="unknown" program="%bin/guess-content %source_file" elt-id="2073" />
  <converter type-in="application/ms-office" program="%bin/ms-guess %source_file" elt-id="2074" />
  <converter type-in="unknown" type-out="text/plain" elt-id="2075">
    <converter-test how="wc-set" what="path" elt-id="2076"><![CDATA[*.txt]]></converter-test>
  </converter>
  <call-function name="vse-converter-type-normalization" elt-id="2077" />
  <call-function name="vse-converter-filetypes" elt-id="2078" />
  <call-function name="vse-converter-email" elt-id="2079">
    <with name="cache-parser" elt-id="2080"><![CDATA[vse-cache-parser-email]]></with>
  </call-function>
  <call-function name="vse-converter-database" elt-id="2081" />
  <converter type-in="application/documentum" type-out="application/vxml-unnormalized" elt-id="2082">
    <call-function name="vse-converter-documentum-to-xml" elt-id="2083" />
  </converter>
  <converter type-out="application/vxml-unnormalized" type-in="application/lotus" elt-id="2084">
    <call-function name="vse-converter-lotus-to-xml" elt-id="2085" />
  </converter>
  <call-function name="vse-converter-powerpoint" elt-id="2086" />
  <call-function name="vse-converter-1-2-3" elt-id="2087" />
  <converter type-in="application/sharepoint" type-out="application/vxml-unnormalized" elt-id="2088">
    <call-function name="vse-converter-sharepoint-to-xml" elt-id="2089" />
  </converter>
  <converter type-in="application/word" type-out="text/html" elt-id="2090">
    <call-function name="vse-converter-msword" elt-id="2091" />
  </converter>
  <converter type-in="application/excel" type-out="text/html" elt-id="2092">
    <call-function name="vse-converter-excel" elt-id="2093" />
  </converter>
  <converter type-in="application/wordperfect" type-out="text/html" elt-id="2094">
    <call-function name="vse-converter-wordperfect" elt-id="2095" />
  </converter>
  <converter type-in="application/openoffice" type-out="text/html" elt-id="2096">
    <call-function name="vse-converter-openoffice" elt-id="2097" />
  </converter>
  <converter type-in="application/vnd.ms-project" type-out="application/vxml-unnormalized" elt-id="2098">
    <call-function name="vse-converter-ms-project" elt-id="2099" />
  </converter>
  <converter type-in="application/ps" type-out="text/plain" elt-id="2100">
    <call-function name="vse-converter-postscript" elt-id="2101" />
  </converter>
  <converter type-in="application/pdf" type-out="text/html" elt-id="2102">
    <call-function name="vse-converter-pdf" elt-id="2103" />
  </converter>
  <converter type-in="application/rtf" type-out="text/html" elt-id="2104">
    <call-function name="vse-converter-rtf" elt-id="2105" />
  </converter>
  <converter type-in="application/outlook-msg" type-out="vivisimo/crawl-data" elt-id="2106">
    <call-function name="vse-converter-outlook-msg" elt-id="2107" />
  </converter>
  <converter type-in="application/flash" type-out="text/html" elt-id="2108">
    <call-function name="vse-converter-flash" elt-id="2109" />
  </converter>
  <converter type-in="application/tar" type-out="unknown" elt-id="2110">
    <call-function name="vse-converter-tar" elt-id="2111" />
  </converter>
  <converter type-in="application/x-gzip" type-out="unknown" elt-id="2112">
    <call-function name="vse-converter-gunzip" elt-id="2113" />
  </converter>
  <converter type-in="application/zip" type-out="unknown" elt-id="2114">
    <call-function name="vse-converter-unzip" elt-id="2115" />
  </converter>
  <converter type-in="application/x-compress" type-out="unknown" elt-id="2116">
    <call-function name="vse-converter-uncompress" elt-id="2117" />
  </converter>
  <converter type-in="text/html" type-out="application/vxml-unnormalized" elt-id="2118">
    <call-function name="vse-converter-html" elt-id="2119" />
  </converter>
  <converter type-in="text/plain" type-out="application/vxml-unnormalized" elt-id="2120">
    <call-function name="vse-converter-text" elt-id="2121" />
  </converter>
  <converter type-in="unknown" type-out="application/dbf" elt-id="2122">
    <converter-test how="wc-set" what="path" elt-id="2123"><![CDATA[*.dbf]]></converter-test>
  </converter>
  <converter type-in="application/dbf" type-out="text/csv" elt-id="2124">
    <call-function name="vse-converter-dbf-to-csv" elt-id="2125" />
  </converter>
  <converter type-in="text/csv" type-out="application/vxml-unnormalized" elt-id="2126">
    <call-function name="vse-converter-csv-to-vxml" elt-id="2127" />
  </converter>
  <converter type-in="text/xml" type-out="application/vxml-unnormalized" elt-id="2128">
    <call-function name="vse-converter-xml-to-vxml" elt-id="2129" />
  </converter>
  <converter type-in="application/vxml-unnormalized" type-out="application/vxml-unnormalized" elt-id="2130">
    <call-function name="vse-converter-normalize" elt-id="2131" />
  </converter>
  <converter type-in="application/vxml-unnormalized" type-out="application/vxml" elt-id="2132" />
</converters>
</vse-config><vse-run><vse-remote-service /><crawler /><vse-index /></vse-run><vse-status which="live" identifier="RcSjdAEkuV04"><crawler-status time="1170514802" elapsed="5" this-elapsed="5" n-input="8" n-output="8" n-errors="0" n-http-errors="0" n-http-location="0" n-filtered="0" n-robots="0" conversion-time="4071" n-sub="1078" n-bytes="238089" n-dl-bytes="238089" converted-size="155925" n-pending="0" n-redirect="0" n-duplicates="0" complete="complete"><converter-timings total-ms="4071"><converter-timing timing-name="application/vxml-db -> gawtype" n="1078" ms="2313" bytes-in="238089" bytes-out="411875" /><converter-timing timing-name="gawtype -> application/vxml-unnormalized" n="1078" ms="1713" bytes-in="411875" bytes-out="155925" /></converter-timings><crawl-hops-output><crawl-hop hop="0" n="4" /><crawl-hop hop="1" n="4" /></crawl-hops-output><crawl-hops-input /></crawler-status><vse-index-status identifier="RcSjdAEkuV04" final-size="418304" start-time="1170514802" link-analysis-time="1" indexing-time="2" merging-time="1" link-analysis-pct="1" indexed-urls="8" uncrawled-urls="0" n-deletes="0" indexed-datas="1078" indexed-docs="440" indexed-contents="2640" indexed-bytes="270901" error-datas="7" error-items="7" running-time="2" core-size="5632" docs-size="1760" fi-size="0" word-blocks="28" text-blocks="359" content-blocks="15" block-size="1024" end-time="1170514804"><vse-index-merge-status n-to-merge="1" start="1170514804" n-merging="1" blocks-to-read="3" blocks-read="3" end="1170514804" /><vse-index-file name="viv_3JDbW4" gen="0" type="index" at="1170514804" size="418304" n-docs="440" /><converter-timings total-ms="1080"><converter-timing timing-name="application/vxml-unnormalized -> application/vxml-unnormalized" n="1078" ms="1029" bytes-in="155925" bytes-out="221459" /></converter-timings><vse-index-content-name-status name="host" n="440" words="1322" tag-bytes="21120" text-bytes="7055" /><vse-index-content-name-status name="url_locater" n="440" words="4120" tag-bytes="13200" text-bytes="24092" /><vse-index-content-name-status name="url" n="440" words="3925" tag-bytes="20680" text-bytes="23352" /><vse-index-content-name-status name="crawled-date" n="440" words="440" tag-bytes="25080" text-bytes="9680" /><vse-index-content-name-status name="language" n="440" words="440" tag-bytes="22880" text-bytes="3076" /><vse-index-content-name-status name="title" n="440" words="546" tag-bytes="23320" text-bytes="3559" /></vse-index-status></vse-status></vse-collection>