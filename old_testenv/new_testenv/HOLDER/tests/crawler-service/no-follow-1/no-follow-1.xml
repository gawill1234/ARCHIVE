<?xml version="1.0"?>
<vse-collection name="no-follow-1" modified="1177336500">
  <vse-config elt-id="2025" max-elt-id="2853">
    <crawler elt-id="2846">
      <crawl-options elt-id="2802">
        <curl-option name="default-allow" elt-id="2800">allow</curl-option>
        <curl-option name="filter-exact-duplicates" elt-id="2801">false</curl-option>
      </crawl-options>

      <crawl-urls elt-id="2840">

        <!-- crawl-data directly in a complete url, this is possible on input
     or from a connector
  -->

        <crawl-url url="http://complete./0" status="complete" verbose="verbose" elt-id="2807">
          <crawl-data content-type="vivisimo/crawl-data" encoding="xml" elt-id="2804">
            <crawl-url url="http://enqueued./0" verbose="verbose" elt-id="2803"/>
          </crawl-data>
          <curl-options elt-id="2806">
            <curl-option name="robots" elt-id="2805">no-follow</curl-option>
          </curl-options>
        </crawl-url>

        <!-- from an href in html content -->
        <crawl-url url="http://no-index./1" status="complete" verbose="verbose" elt-id="2812">
          <crawl-data content-type="text/html" encoding="xml" elt-id="2809">
            <a href="http://enqueued./1" elt-id="2808"/>
          </crawl-data>
          <curl-options elt-id="2811">
            <curl-option name="robots" elt-id="2810">no-index</curl-option>
          </curl-options>
        </crawl-url>

        <crawl-url url="http://complete./2" status="complete" verbose="verbose" elt-id="2817">
          <crawl-data content-type="text/html" encoding="xml" elt-id="2814">
            <a href="http://not-enqueued./2" elt-id="2813"/>
          </crawl-data>
          <curl-options elt-id="2816">
            <curl-option name="robots" elt-id="2815">no-follow</curl-option>
          </curl-options>
        </crawl-url>

        <crawl-url url="http://complete./3" status="complete" verbose="verbose" elt-id="2820">
          <crawl-data content-type="text/html" encoding="xml" elt-id="2819">
            <a href="http://enqueued./3" elt-id="2818"/>
          </crawl-data>
        </crawl-url>

        <!-- from a converter with vivisimo/crawl-data -->

        <crawl-url url="http://complete./4" status="complete" verbose="verbose" elt-id="2822">
          <crawl-data content-type="crawl-data-enqueued" elt-id="2821">test</crawl-data>
        </crawl-url>

        <crawl-url url="http://complete./5" status="complete" verbose="verbose" elt-id="2826">
          <crawl-data content-type="crawl-data-enqueued" elt-id="2823">test</crawl-data>
          <curl-options elt-id="2825">
            <curl-option name="robots" elt-id="2824">no-follow</curl-option>
          </curl-options>
        </crawl-url>

        <crawl-url url="http://complete./6" status="complete" verbose="verbose" elt-id="2830">
          <crawl-data content-type="crawl-data-enqueued" elt-id="2827">test</crawl-data>
          <curl-options elt-id="2829">
            <curl-option name="robots" elt-id="2828">no-index</curl-option>
          </curl-options>
        </crawl-url>

        <!-- from a viv:crawl-enqueue-url -->

        <crawl-url url="http://complete./7" status="complete" verbose="verbose" elt-id="2834">
          <crawl-data content-type="viv-enqueued" elt-id="2831">test</crawl-data>
          <curl-options elt-id="2833">
            <curl-option name="robots" elt-id="2832">no-follow</curl-option>
          </curl-options>
        </crawl-url>

        <crawl-url url="http://complete./8" status="complete" verbose="verbose" elt-id="2838">
          <crawl-data content-type="viv-enqueued" elt-id="2835">test</crawl-data>
          <curl-options elt-id="2837">
            <curl-option name="robots" elt-id="2836">no-index</curl-option>
          </curl-options>
        </crawl-url>

        <!-- all files get marked as no-follow, below -->
        <crawl-url url="file:///tmp/DoeSNOtExISt" elt-id="2839"/>

      </crawl-urls>


      <crawl-condition-when elt-id="2845">
        <crawl-pattern elt-id="2841">file:*</crawl-pattern>
        <curl-options elt-id="2844">
          <curl-option name="max-hops" elt-id="2842">1</curl-option>
          <curl-option name="robots" elt-id="2843">no-follow</curl-option>
        </curl-options>
      </crawl-condition-when>

    </crawler>
    <converters elt-id="2853">

      <converter type-out="vivisimo/crawl-data" type-in="crawl-data-enqueued" elt-id="2848">
        <parser type="html-xsl" elt-id="2847">&lt;xsl:template match="/"&gt;
  &lt;vce&gt;
    &lt;crawl-url url="{viv:replace($crawl-url-url, 'http://[^/]*', 'http://enqueued.')}" verbose="verbose" /&gt;
  &lt;/vce&gt;
&lt;/xsl:template&gt;</parser>
      </converter>

      <converter type-out="vivisimo/crawl-data" type-in="crawl-data-not-enqueued" elt-id="2850">
        <parser type="html-xsl" elt-id="2849">&lt;xsl:template match="/"&gt;
  &lt;vce&gt;
    &lt;crawl-url url="{viv:replace($crawl-url-url, 'http://[^/]*', 'http://not-enqueued.')}" verbose="verbose" /&gt;
  &lt;/vce&gt;
&lt;/xsl:template&gt;</parser>
      </converter>

      <converter type-out="application/vxml" type-in="viv-enqueued" elt-id="2852">
        <parser type="html-xsl" elt-id="2851">&lt;xsl:template match="/"&gt;
  &lt;vce&gt;
    &lt;xsl:value-of select="viv:crawl-enqueue-url(viv:replace($crawl-url-url, 'http://[^/]*', 'http://enqueued.'))" /&gt;
    &lt;xsl:variable name="crawl-url"&gt;
      &lt;crawl-url verbose="verbose"/&gt;
    &lt;/xsl:variable&gt;
    &lt;xsl:value-of select="viv:crawl-enqueue-url(viv:replace($crawl-url-url, 'http://[^/]*', 'http://enqueued.'))" /&gt;
    &lt;xsl:value-of select="viv:crawl-enqueue-url(viv:replace($crawl-url-url, 'http://[^/]*', 'http://enqueued./x'), $crawl-url)" /&gt;
  &lt;/vce&gt;
&lt;/xsl:template&gt;</parser>
      </converter>

    </converters>
  </vse-config>
  <vse-meta name="no-follow" create-time="1172180111"/>
</vse-collection>
