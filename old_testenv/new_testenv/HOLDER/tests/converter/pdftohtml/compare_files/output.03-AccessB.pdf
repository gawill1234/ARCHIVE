<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
<TITLE>Microsoft PowerPoint - 03-and-04-Access</TITLE>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<META name="author" content="callan">
<META name="date" content="2006-01-24T13:26:33+00:00">
</HEAD>
<BODY>
<STYLE type="text/css">
.v {WIDTH: 1em; WRITING-MODE: tb-rl}
</STYLE><!-- Page 1 -->
<a name="1"></a>
<DIV style="position:relative;width:1188;height:918;">
<STYLE type="text/css">
<!--
	.ft0{font-size:40px;font-family:Times;color:#000000;}
	.ft1{font-size:27px;font-family:Times;color:#3333cc;}
	.ft2{font-size:34px;font-family:Times;color:#000000;}
-->
</STYLE>
<DIV style="position:absolute;top:354;left:300"><nobr><span class="ft0"><b>Data Structures, Algorithms and</b></span></nobr></DIV>
<DIV style="position:absolute;top:399;left:391"><nobr><span class="ft0"><b>Implementation Issues</b></span></nobr></DIV>
<DIV style="position:absolute;top:524;left:516"><nobr><span class="ft1">Jamie Callan</span></nobr></DIV>
<DIV style="position:absolute;top:567;left:426"><nobr><span class="ft1">Carnegie Mellon University</span></nobr></DIV>
<DIV style="position:absolute;top:611;left:477"><nobr><span class="ft1">callan@cs.cmu.edu</span></nobr></DIV>
<DIV style="position:absolute;top:260;left:537"><nobr><span class="ft2"><b>11-741:</b></span></nobr></DIV>
<DIV style="position:absolute;top:299;left:425"><nobr><span class="ft2"><b>Information Retrieval</b></span></nobr></DIV>
</DIV>
<!-- Page 2 -->
<a name="2"></a>
<DIV style="position:relative;width:1188;height:918;">
<STYLE type="text/css">
<!--
	.ft3{font-size:9px;font-family:Times;color:#000000;}
	.ft4{font-size:18px;font-family:Times;color:#000000;}
	.ft5{font-size:34px;font-family:Helvetica;color:#3333cc;}
	.ft6{font-size:27px;font-family:Times;color:#3333cc;}
	.ft7{font-size:27px;font-family:Times;color:#000000;}
-->
</STYLE>
<DIV style="position:absolute;top:803;left:902"><nobr><span class="ft3">© 2006, Jamie Callan</span></nobr></DIV>
<DIV style="position:absolute;top:812;left:512"><nobr><span class="ft4">2</span></nobr></DIV>
<DIV style="position:absolute;top:145;left:506"><nobr><span class="ft0"><b>Overview</b></span></nobr></DIV>
<DIV style="position:absolute;top:294;left:182"><nobr><span class="ft5">•</span></nobr></DIV>
<DIV style="position:absolute;top:299;left:216"><nobr><span class="ft6"><b>Document Parsing</b></span></nobr></DIV>
<DIV style="position:absolute;top:337;left:182"><nobr><span class="ft5">•</span></nobr></DIV>
<DIV style="position:absolute;top:342;left:216"><nobr><span class="ft6"><b>Document Indexing</b></span></nobr></DIV>
<DIV style="position:absolute;top:386;left:236"><nobr><span class="ft7">– What to index</span></nobr></DIV>
<DIV style="position:absolute;top:429;left:236"><nobr><span class="ft7">– Inverted lists</span></nobr></DIV>
<DIV style="position:absolute;top:467;left:182"><nobr><span class="ft5">•</span></nobr></DIV>
<DIV style="position:absolute;top:472;left:216"><nobr><span class="ft6"><b>Inverted Files</b></span></nobr></DIV>
<DIV style="position:absolute;top:516;left:236"><nobr><span class="ft7">– Access</span></nobr></DIV>
<DIV style="position:absolute;top:559;left:290"><nobr><span class="ft7">» Permuterm indexes</span></nobr></DIV>
<DIV style="position:absolute;top:602;left:236"><nobr><span class="ft7">– Building</span></nobr></DIV>
<DIV style="position:absolute;top:646;left:236"><nobr><span class="ft7">– Compression</span></nobr></DIV>
<DIV style="position:absolute;top:294;left:614"><nobr><span class="ft5">•</span></nobr></DIV>
<DIV style="position:absolute;top:299;left:648"><nobr><span class="ft6"><b>Query Evaluation</b></span></nobr></DIV>
<DIV style="position:absolute;top:342;left:668"><nobr><span class="ft7">– Ranking documents</span></nobr></DIV>
<DIV style="position:absolute;top:386;left:668"><nobr><span class="ft7">– Optimizations</span></nobr></DIV>
</DIV>
<!-- Page 3 -->
<a name="3"></a>
<DIV style="position:relative;width:1188;height:918;">
<STYLE type="text/css">
<!--
-->
</STYLE>
<DIV style="position:absolute;top:803;left:902"><nobr><span class="ft3">© 2006, Jamie Callan</span></nobr></DIV>
<DIV style="position:absolute;top:812;left:512"><nobr><span class="ft4">3</span></nobr></DIV>
<DIV style="position:absolute;top:145;left:181"><nobr><span class="ft0"><b>Basic Facts That Affect Search Engine Design</b></span></nobr></DIV>
<DIV style="position:absolute;top:294;left:182"><nobr><span class="ft5">•</span></nobr></DIV>
<DIV style="position:absolute;top:299;left:216"><nobr><span class="ft6"><b>Computational efficiency is really important</b></span></nobr></DIV>
<DIV style="position:absolute;top:342;left:236"><nobr><span class="ft7">– Speed and space</span></nobr></DIV>
<DIV style="position:absolute;top:386;left:236"><nobr><span class="ft7">– A research search engine on a research corpus typically</span></nobr></DIV>
<DIV style="position:absolute;top:418;left:263"><nobr><span class="ft7">processes several hundred million words</span></nobr></DIV>
<DIV style="position:absolute;top:461;left:290"><nobr><span class="ft7">» Small inefficiencies × 200,000,000 = slow/bloated program</span></nobr></DIV>
<DIV style="position:absolute;top:499;left:182"><nobr><span class="ft5">•</span></nobr></DIV>
<DIV style="position:absolute;top:505;left:216"><nobr><span class="ft6"><b>Integers are often preferred over strings</b></span></nobr></DIV>
<DIV style="position:absolute;top:548;left:236"><nobr><span class="ft7">– Integers almost always take less space</span></nobr></DIV>
<DIV style="position:absolute;top:591;left:236"><nobr><span class="ft7">– Integers can be compared more quickly</span></nobr></DIV>
<DIV style="position:absolute;top:635;left:216"><nobr><span class="ft6"><b>So…convert strings to integers whenever possible</b></span></nobr></DIV>
<DIV style="position:absolute;top:673;left:182"><nobr><span class="ft5">•</span></nobr></DIV>
<DIV style="position:absolute;top:678;left:216"><nobr><span class="ft6"><b>You may not care about efficiency…</b></span></nobr></DIV>
<DIV style="position:absolute;top:721;left:216"><nobr><span class="ft6"><b>but you need to understand how it affects search engine design</b></span></nobr></DIV>
</DIV>
<!-- Page 4 -->
<a name="4"></a>
<DIV style="position:relative;width:1188;height:918;">
<STYLE type="text/css">
<!--
-->
</STYLE>
<DIV style="position:absolute;top:803;left:902"><nobr><span class="ft3">© 2006, Jamie Callan</span></nobr></DIV>
<DIV style="position:absolute;top:812;left:512"><nobr><span class="ft4">4</span></nobr></DIV>
<DIV style="position:absolute;top:122;left:392"><nobr><span class="ft0"><b>Parsing and Indexing:</b></span></nobr></DIV>
<DIV style="position:absolute;top:168;left:506"><nobr><span class="ft0"><b>Overview</b></span></nobr></DIV>
<DIV style="position:absolute;top:285;left:146"><nobr><span class="ft5">•</span></nobr></DIV>
<DIV style="position:absolute;top:290;left:180"><nobr><span class="ft6"><b>Tasks:</b></span></nobr></DIV>
<DIV style="position:absolute;top:333;left:200"><nobr><span class="ft7">– Build a set of indexes</span></nobr></DIV>
<DIV style="position:absolute;top:377;left:254"><nobr><span class="ft7">» Inverted list, document ID, document location, fields, ….</span></nobr></DIV>
<DIV style="position:absolute;top:420;left:200"><nobr><span class="ft7">– Possibly compress the documents</span></nobr></DIV>
<DIV style="position:absolute;top:458;left:146"><nobr><span class="ft5">•</span></nobr></DIV>
<DIV style="position:absolute;top:463;left:180"><nobr><span class="ft6"><b>Speed:</b></span></nobr></DIV>
<DIV style="position:absolute;top:507;left:200"><nobr><span class="ft7">– 2-3 gigabyte per processor hour is respectable (but not fast)</span></nobr></DIV>
<DIV style="position:absolute;top:550;left:200"><nobr><span class="ft7">– “Fast” in 1998 was 4.7 GB per processor hour, on a PC</span></nobr></DIV>
<DIV style="position:absolute;top:593;left:200"><nobr><span class="ft7">– “Fast” in 2004 was 33 GB per processing hour, on a PC</span></nobr></DIV>
<DIV style="position:absolute;top:631;left:146"><nobr><span class="ft5">•</span></nobr></DIV>
<DIV style="position:absolute;top:637;left:180"><nobr><span class="ft6"><b>Memory:</b></span></nobr></DIV>
<DIV style="position:absolute;top:680;left:200"><nobr><span class="ft7">– 1-5% the size of the total uncompressed documents</span></nobr></DIV>
<DIV style="position:absolute;top:723;left:254"><nobr><span class="ft7">» E.g.,  128 MB RAM for 2 GB text, 1 GB RAM for 100 GB text</span></nobr></DIV>
</DIV>
<!-- Page 5 -->
<a name="5"></a>
<DIV style="position:relative;width:1188;height:918;">
<STYLE type="text/css">
<!--
	.ft8{font-size:25px;font-family:Times;color:#000000;}
	.ft9{font-size:25px;font-family:Times;color:#cf0e30;}
-->
</STYLE>
<DIV style="position:absolute;top:803;left:902"><nobr><span class="ft3">© 2006, Jamie Callan</span></nobr></DIV>
<DIV style="position:absolute;top:812;left:512"><nobr><span class="ft4">5</span></nobr></DIV>
<DIV style="position:absolute;top:122;left:392"><nobr><span class="ft0"><b>Parsing and Indexing:</b></span></nobr></DIV>
<DIV style="position:absolute;top:168;left:506"><nobr><span class="ft0"><b>Overview</b></span></nobr></DIV>
<DIV style="position:absolute;top:391;left:110"><nobr><span class="ft8"><b>Document</b></span></nobr></DIV>
<DIV style="position:absolute;top:392;left:309"><nobr><span class="ft8"><b>Parser</b></span></nobr></DIV>
<DIV style="position:absolute;top:383;left:561"><nobr><span class="ft8"><b>Indexer</b></span></nobr></DIV>
<DIV style="position:absolute;top:562;left:794"><nobr><span class="ft8"><b>Document Vectors</b></span></nobr></DIV>
<DIV style="position:absolute;top:292;left:803"><nobr><span class="ft8"><b>Term Dictionary</b></span></nobr></DIV>
<DIV style="position:absolute;top:364;left:820"><nobr><span class="ft8"><b>Inverted Lists</b></span></nobr></DIV>
<DIV style="position:absolute;top:490;left:831"><nobr><span class="ft8"><b>Field Masks</b></span></nobr></DIV>
<DIV style="position:absolute;top:427;left:779"><nobr><span class="ft8"><b>Document Attributes</b></span></nobr></DIV>
<DIV style="position:absolute;top:625;left:857"><nobr><span class="ft9"><b>Index Data</b></span></nobr></DIV>
<DIV style="position:absolute;top:657;left:860"><nobr><span class="ft9"><b>Structures</b></span></nobr></DIV>
<DIV style="position:absolute;top:445;left:299"><nobr><span class="ft9"><b>Handles</b></span></nobr></DIV>
<DIV style="position:absolute;top:477;left:289"><nobr><span class="ft9"><b>document</b></span></nobr></DIV>
<DIV style="position:absolute;top:510;left:281"><nobr><span class="ft9"><b>format and</b></span></nobr></DIV>
<DIV style="position:absolute;top:542;left:294"><nobr><span class="ft9"><b>language</b></span></nobr></DIV>
<DIV style="position:absolute;top:445;left:560"><nobr><span class="ft9"><b>Builds</b></span></nobr></DIV>
<DIV style="position:absolute;top:477;left:565"><nobr><span class="ft9"><b>index</b></span></nobr></DIV>
<DIV style="position:absolute;top:265;left:435"><nobr><span class="ft9"><b>tokens,</b></span></nobr></DIV>
<DIV style="position:absolute;top:297;left:438"><nobr><span class="ft9"><b>counts,</b></span></nobr></DIV>
<DIV style="position:absolute;top:330;left:425"><nobr><span class="ft9"><b>positions,</b></span></nobr></DIV>
<DIV style="position:absolute;top:362;left:463"><nobr><span class="ft9"><b>etc</b></span></nobr></DIV>
</DIV>
<!-- Page 6 -->
<a name="6"></a>
<DIV style="position:relative;width:1188;height:918;">
<STYLE type="text/css">
<!--
-->
</STYLE>
<DIV style="position:absolute;top:803;left:902"><nobr><span class="ft3">© 2006, Jamie Callan</span></nobr></DIV>
<DIV style="position:absolute;top:812;left:512"><nobr><span class="ft4">6</span></nobr></DIV>
<DIV style="position:absolute;top:145;left:195"><nobr><span class="ft0"><b>Basic Components of a Search Engine Index</b></span></nobr></DIV>
<DIV style="position:absolute;top:294;left:182"><nobr><span class="ft5">•</span></nobr></DIV>
<DIV style="position:absolute;top:299;left:216"><nobr><span class="ft6"><b>Term dictionary</b></span></nobr></DIV>
<DIV style="position:absolute;top:342;left:236"><nobr><span class="ft7">– Information about every term in the corpus</span></nobr></DIV>
<DIV style="position:absolute;top:380;left:182"><nobr><span class="ft5">•</span></nobr></DIV>
<DIV style="position:absolute;top:386;left:216"><nobr><span class="ft6"><b>Inverted lists</b></span></nobr></DIV>
<DIV style="position:absolute;top:429;left:236"><nobr><span class="ft7">– Information about where each term occurs in the corpus</span></nobr></DIV>
<DIV style="position:absolute;top:467;left:182"><nobr><span class="ft5">•</span></nobr></DIV>
<DIV style="position:absolute;top:472;left:216"><nobr><span class="ft6"><b>Document vector</b></span></nobr></DIV>
<DIV style="position:absolute;top:516;left:236"><nobr><span class="ft7">– Information about every term in a document</span></nobr></DIV>
<DIV style="position:absolute;top:553;left:182"><nobr><span class="ft5">•</span></nobr></DIV>
<DIV style="position:absolute;top:559;left:216"><nobr><span class="ft6"><b>Field mask (maybe)</b></span></nobr></DIV>
<DIV style="position:absolute;top:602;left:236"><nobr><span class="ft7">– Information about each field in each document</span></nobr></DIV>
<DIV style="position:absolute;top:640;left:182"><nobr><span class="ft5">•</span></nobr></DIV>
<DIV style="position:absolute;top:646;left:216"><nobr><span class="ft6"><b>Document attributes</b></span></nobr></DIV>
<DIV style="position:absolute;top:689;left:236"><nobr><span class="ft7">– Information associated with a document</span></nobr></DIV>
<DIV style="position:absolute;top:727;left:182"><nobr><span class="ft5">•</span></nobr></DIV>
<DIV style="position:absolute;top:732;left:216"><nobr><span class="ft6"><b>And possibly much more…</b></span></nobr></DIV>
</DIV>
<!-- Page 7 -->
<a name="7"></a>
<DIV style="position:relative;width:1188;height:918;">
<STYLE type="text/css">
<!--
	.ft10{font-size:25px;font-family:Times;color:#3333cc;}
	.ft11{font-size:25px;font-family:Times;color:#000000;}
	.ft12{font-size:25px;line-height:32px;font-family:Times;color:#3333cc;}
-->
</STYLE>
<DIV style="position:absolute;top:803;left:902"><nobr><span class="ft3">© 2006, Jamie Callan</span></nobr></DIV>
<DIV style="position:absolute;top:812;left:512"><nobr><span class="ft4">7</span></nobr></DIV>
<DIV style="position:absolute;top:122;left:418"><nobr><span class="ft0"><b>Document Parsing:</b></span></nobr></DIV>
<DIV style="position:absolute;top:168;left:428"><nobr><span class="ft0"><b>Sample Document</b></span></nobr></DIV>
<DIV style="position:absolute;top:265;left:119"><nobr><span class="ft12"><b>&lt;DOC&gt;</b><br><b>&lt;DOCNO&gt;</b></span></nobr></DIV>
<DIV style="position:absolute;top:297;left:257"><nobr><span class="ft11">AP890101-0001</span></nobr></DIV>
<DIV style="position:absolute;top:297;left:442"><nobr><span class="ft10"><b>&lt;/DOCNO&gt;</b></span></nobr></DIV>
<DIV style="position:absolute;top:330;left:119"><nobr><span class="ft10"><b>&lt;FILEID&gt;</b></span></nobr></DIV>
<DIV style="position:absolute;top:330;left:249"><nobr><span class="ft11">AP-NR-01-01-89 2358EST</span></nobr></DIV>
<DIV style="position:absolute;top:330;left:554"><nobr><span class="ft10"><b>&lt;/FILEID&gt;</b></span></nobr></DIV>
<DIV style="position:absolute;top:362;left:119"><nobr><span class="ft10"><b>&lt;FIRST&gt; </b></span></nobr></DIV>
<DIV style="position:absolute;top:362;left:236"><nobr><span class="ft11">r a PM-APArts:60sMovies     01-01 1073</span></nobr></DIV>
<DIV style="position:absolute;top:362;left:690"><nobr><span class="ft10"><b>&lt;/FIRST&gt;</b></span></nobr></DIV>
<DIV style="position:absolute;top:395;left:119"><nobr><span class="ft10"><b>&lt;SECOND&gt;</b></span></nobr></DIV>
<DIV style="position:absolute;top:395;left:269"><nobr><span class="ft11">PM-AP Arts: 60s Movies,1100</span></nobr></DIV>
<DIV style="position:absolute;top:395;left:612"><nobr><span class="ft10"><b>&lt;/SECOND&gt;</b></span></nobr></DIV>
<DIV style="position:absolute;top:427;left:119"><nobr><span class="ft10"><b>&lt;HEAD&gt;</b></span></nobr></DIV>
<DIV style="position:absolute;top:427;left:234"><nobr><span class="ft11">You Don't Need a Weatherman To Know '60s Films Are Here</span></nobr></DIV>
<DIV style="position:absolute;top:427;left:914"><nobr><span class="ft10"><b>&lt;/HEAD&gt;</b></span></nobr></DIV>
<DIV style="position:absolute;top:460;left:119"><nobr><span class="ft10"><b>&lt;HEAD&gt;</b></span></nobr></DIV>
<DIV style="position:absolute;top:460;left:234"><nobr><span class="ft11">Eds: Also in Monday AMs report<b>. </b></span></nobr></DIV>
<DIV style="position:absolute;top:460;left:610"><nobr><span class="ft10"><b>&lt;/HEAD&gt;</b></span></nobr></DIV>
<DIV style="position:absolute;top:492;left:119"><nobr><span class="ft10"><b>&lt;BYLINE&gt;</b></span></nobr></DIV>
<DIV style="position:absolute;top:492;left:260"><nobr><span class="ft11">By HILLEL ITALIE</span></nobr></DIV>
<DIV style="position:absolute;top:492;left:493"><nobr><span class="ft10"><b>&lt;/BYLINE&gt;</b></span></nobr></DIV>
<DIV style="position:absolute;top:525;left:119"><nobr><span class="ft10"><b>&lt;BYLINE&gt;</b></span></nobr></DIV>
<DIV style="position:absolute;top:525;left:260"><nobr><span class="ft11">Associated Press Writer</span></nobr></DIV>
<DIV style="position:absolute;top:525;left:526"><nobr><span class="ft10"><b>&lt;/BYLINE&gt;</b></span></nobr></DIV>
<DIV style="position:absolute;top:557;left:119"><nobr><span class="ft10"><b>&lt;DATELINE&gt;</b></span></nobr></DIV>
<DIV style="position:absolute;top:557;left:297"><nobr><span class="ft11">NEW YORK (AP)</span></nobr></DIV>
<DIV style="position:absolute;top:557;left:508"><nobr><span class="ft10"><b>&lt;/DATELINE&gt;</b></span></nobr></DIV>
<DIV style="position:absolute;top:589;left:119"><nobr><span class="ft10"><b>&lt;TEXT&gt;</b></span></nobr></DIV>
<DIV style="position:absolute;top:622;left:139"><nobr><span class="ft11">The celluloid torch has been passed to a new generation: filmmakers who grew</span></nobr></DIV>
<DIV style="position:absolute;top:654;left:119"><nobr><span class="ft11">up in the 1960s.</span></nobr></DIV>
<DIV style="position:absolute;top:687;left:139"><nobr><span class="ft11">``Platoon,'' ``Running on Empty,'' ``1969'' and ``Mississippi Burning'' are</span></nobr></DIV>
<DIV style="position:absolute;top:719;left:119"><nobr><span class="ft11">among the movies released in the past two years from writers and ……</span></nobr></DIV>
<DIV style="position:absolute;top:752;left:119"><nobr><span class="ft12"><b>&lt;/TEXT&gt;</b><br><b>&lt;/DOC&gt;</b></span></nobr></DIV>
<DIV style="position:absolute;top:576;left:962"><nobr><span class="ft9"><b>Body text</b></span></nobr></DIV>
<DIV style="position:absolute;top:288;left:925"><nobr><span class="ft9"><b>markup</b></span></nobr></DIV>
<DIV style="position:absolute;top:387;left:981"><nobr><span class="ft9"><b>title</b></span></nobr></DIV>
<DIV style="position:absolute;top:477;left:912"><nobr><span class="ft9"><b>source</b></span></nobr></DIV>
</DIV>
<!-- Page 8 -->
<a name="8"></a>
<DIV style="position:relative;width:1188;height:918;">
<STYLE type="text/css">
<!--
	.ft13{font-size:34px;font-family:Helvetica;color:#000000;}
	.ft14{font-size:27px;font-family:Times;color:#000000;}
-->
</STYLE>
<DIV style="position:absolute;top:803;left:902"><nobr><span class="ft3">© 2006, Jamie Callan</span></nobr></DIV>
<DIV style="position:absolute;top:812;left:512"><nobr><span class="ft4">8</span></nobr></DIV>
<DIV style="position:absolute;top:122;left:418"><nobr><span class="ft0"><b>Document Parsing:</b></span></nobr></DIV>
<DIV style="position:absolute;top:168;left:232"><nobr><span class="ft0"><b>Important Parts of the Indexing Process</b></span></nobr></DIV>
<DIV style="position:absolute;top:299;left:182"><nobr><span class="ft6"><b>Task:  Convert the document into a set of index elements</b></span></nobr></DIV>
<DIV style="position:absolute;top:337;left:182"><nobr><span class="ft13">•</span></nobr></DIV>
<DIV style="position:absolute;top:342;left:216"><nobr><span class="ft7">Determine document location</span></nobr></DIV>
<DIV style="position:absolute;top:380;left:182"><nobr><span class="ft13">•</span></nobr></DIV>
<DIV style="position:absolute;top:386;left:216"><nobr><span class="ft7">Determine field/structure boundaries within document</span></nobr></DIV>
<DIV style="position:absolute;top:429;left:236"><nobr><span class="ft7">– E.g., Document ID, Title, Author, Date, Text</span></nobr></DIV>
<DIV style="position:absolute;top:467;left:182"><nobr><span class="ft13">•</span></nobr></DIV>
<DIV style="position:absolute;top:472;left:216"><nobr><span class="ft7">Segment the text in each field into tokens</span></nobr></DIV>
<DIV style="position:absolute;top:516;left:236"><nobr><span class="ft7">– E.g., Apple, AT&amp;T, drive-in, 527-4701, $1,110,427, …</span></nobr></DIV>
<DIV style="position:absolute;top:553;left:182"><nobr><span class="ft13">•</span></nobr></DIV>
<DIV style="position:absolute;top:559;left:216"><nobr><span class="ft7">Case conversion  (e.g., “Table”</span></nobr></DIV>
<DIV style="position:absolute;top:559;left:635"><nobr><span class="ft7">“table”, “Apple”</span></nobr></DIV>
<DIV style="position:absolute;top:559;left:879"><nobr><span class="ft7">“apple”)</span></nobr></DIV>
<DIV style="position:absolute;top:597;left:182"><nobr><span class="ft13">•</span></nobr></DIV>
<DIV style="position:absolute;top:602;left:216"><nobr><span class="ft7">Discard stopwords</span></nobr></DIV>
<DIV style="position:absolute;top:640;left:182"><nobr><span class="ft13">•</span></nobr></DIV>
<DIV style="position:absolute;top:646;left:216"><nobr><span class="ft7">Stem tokens</span></nobr></DIV>
<DIV style="position:absolute;top:683;left:182"><nobr><span class="ft13">•</span></nobr></DIV>
<DIV style="position:absolute;top:689;left:216"><nobr><span class="ft7">Count token occurrences (calculate term frequency)</span></nobr></DIV>
<DIV style="position:absolute;top:727;left:182"><nobr><span class="ft13">•</span></nobr></DIV>
<DIV style="position:absolute;top:732;left:216"><nobr><span class="ft7">Update indexes</span></nobr></DIV>
</DIV>
<!-- Page 9 -->
<a name="9"></a>
<DIV style="position:relative;width:1188;height:918;">
<STYLE type="text/css">
<!--
	.ft15{font-size:25px;font-family:Times;color:#cccc00;}
	.ft16{font-size:27px;line-height:39px;font-family:Times;color:#000000;}
-->
</STYLE>
<DIV style="position:absolute;top:803;left:902"><nobr><span class="ft3">© 2006, Jamie Callan</span></nobr></DIV>
<DIV style="position:absolute;top:812;left:512"><nobr><span class="ft4">9</span></nobr></DIV>
<DIV style="position:absolute;top:122;left:418"><nobr><span class="ft0"><b>Document Parsing:</b></span></nobr></DIV>
<DIV style="position:absolute;top:168;left:402"><nobr><span class="ft0"><b>Document Attributes</b></span></nobr></DIV>
<DIV style="position:absolute;top:291;left:182"><nobr><span class="ft5">•</span></nobr></DIV>
<DIV style="position:absolute;top:296;left:216"><nobr><span class="ft6"><b>Document attributes are associated with the document text</b></span></nobr></DIV>
<DIV style="position:absolute;top:336;left:236"><nobr><span class="ft16">– Could be part of the document markup<br>– Not associated with any particular location in the document text</span></nobr></DIV>
<DIV style="position:absolute;top:410;left:182"><nobr><span class="ft5">•</span></nobr></DIV>
<DIV style="position:absolute;top:415;left:216"><nobr><span class="ft6"><b>Examples:</b></span></nobr></DIV>
<DIV style="position:absolute;top:455;left:236"><nobr><span class="ft7">– External Id:</span></nobr></DIV>
<DIV style="position:absolute;top:495;left:290"><nobr><span class="ft16">» A unique identifier that is independent of the index<br>» Examples: AP890101-0001, http://www.cs.cmu.edu/~callan</span></nobr></DIV>
<DIV style="position:absolute;top:536;left:981"><nobr><span class="ft15">/</span></nobr></DIV>
<DIV style="position:absolute;top:574;left:236"><nobr><span class="ft7">– Internal Id:</span></nobr></DIV>
<DIV style="position:absolute;top:614;left:290"><nobr><span class="ft16">» A unique, index-specific identifier<br>» Usually an integer</span></nobr></DIV>
<DIV style="position:absolute;top:693;left:236"><nobr><span class="ft16">– Location in local storage:  File-ID, offset, length<br>– Page Rank<br>– Length</span></nobr></DIV>
</DIV>
<!-- Page 10 -->
<a name="10"></a>
<DIV style="position:relative;width:1188;height:918;">
<STYLE type="text/css">
<!--
	.ft17{font-size:27px;font-family:Times;color:#cf0e30;}
	.ft18{font-size:27px;font-family:Times;color:#cf0e30;}
	.ft19{font-size:26px;font-family:Times;color:#000000;}
	.ft20{font-size:24px;font-family:Times;color:#000000;}
	.ft21{font-size:27px;line-height:32px;font-family:Times;color:#000000;}
	.ft22{font-size:9px;line-height:14px;font-family:Times;color:#000000;}
	.ft23{font-size:26px;line-height:36px;font-family:Times;color:#000000;}
	.ft24{font-size:24px;line-height:34px;font-family:Times;color:#000000;}
	.ft25{font-size:25px;line-height:32px;font-family:Times;color:#000000;}
-->
</STYLE>
<DIV style="position:absolute;top:803;left:902"><nobr><span class="ft3">© 2006, Jamie Callan</span></nobr></DIV>
<DIV style="position:absolute;top:812;left:507"><nobr><span class="ft4">10</span></nobr></DIV>
<DIV style="position:absolute;top:122;left:418"><nobr><span class="ft0"><b>Document Parsing:</b></span></nobr></DIV>
<DIV style="position:absolute;top:168;left:343"><nobr><span class="ft0"><b>Storing Document Location</b></span></nobr></DIV>
<DIV style="position:absolute;top:290;left:173"><nobr><span class="ft6"><b>Example:</b></span></nobr></DIV>
<DIV style="position:absolute;top:328;left:173"><nobr><span class="ft13">•</span></nobr></DIV>
<DIV style="position:absolute;top:333;left:207"><nobr><span class="ft21">Many documents<br>stored in a single file</span></nobr></DIV>
<DIV style="position:absolute;top:409;left:227"><nobr><span class="ft17">– <b>Why?</b></span></nobr></DIV>
<DIV style="position:absolute;top:285;left:673"><nobr><span class="ft22">Once upon a time there was an<br>Engineer.  Choo Choo Charlie was<br>his name we hear.<br>He had an engine, and he sure had<br>fun.  He used Good and Plenty<br>to make his train run.<br>Charlie says “Love my Good and<br>Plenty.”<br>Charlie says “Really rings a bell.”<br>Charlie says “Don’t know any other<br>candy that I love so well.”<br>Bosco puts hustle in your muscle.<br>Bosco puts spree in your knee.<br>Hey, Bosco, wait for me!</span></nobr></DIV>
<DIV style="position:absolute;top:274;left:506"><nobr><span class="ft11">Doc #1</span></nobr></DIV>
<DIV style="position:absolute;top:316;left:506"><nobr><span class="ft11">Doc #2</span></nobr></DIV>
<DIV style="position:absolute;top:363;left:506"><nobr><span class="ft11">Doc #3</span></nobr></DIV>
<DIV style="position:absolute;top:433;left:506"><nobr><span class="ft11">Doc #4</span></nobr></DIV>
<DIV style="position:absolute;top:545;left:241"><nobr><span class="ft19">0 2042</span></nobr></DIV>
<DIV style="position:absolute;top:581;left:196"><nobr><span class="ft23">2042 2532<br>4574 3583<br>8157 2893</span></nobr></DIV>
<DIV style="position:absolute;top:508;left:182"><nobr><span class="ft10"><b>Offset Length</b></span></nobr></DIV>
<DIV style="position:absolute;top:520;left:597"><nobr><span class="ft20">0</span></nobr></DIV>
<DIV style="position:absolute;top:554;left:555"><nobr><span class="ft24">2042<br>4574<br>8157</span></nobr></DIV>
<DIV style="position:absolute;top:656;left:541"><nobr><span class="ft20">11050</span></nobr></DIV>
<DIV style="position:absolute;top:487;left:533"><nobr><span class="ft10"><b>Offset</b></span></nobr></DIV>
<DIV style="position:absolute;top:520;left:925"><nobr><span class="ft20">0</span></nobr></DIV>
<DIV style="position:absolute;top:554;left:886"><nobr><span class="ft24">2042<br>2532<br>3583<br>2893</span></nobr></DIV>
<DIV style="position:absolute;top:487;left:866"><nobr><span class="ft10"><b>Offset</b></span></nobr></DIV>
<DIV style="position:absolute;top:697;left:488"><nobr><span class="ft25">Don’t store lengths<br>• Good for direct access<br>• Doesn’t compress well</span></nobr></DIV>
<DIV style="position:absolute;top:697;left:812"><nobr><span class="ft25">Delta encode offsets<br>• Poor for direct access<br>• Easy to compress</span></nobr></DIV>
<DIV style="position:absolute;top:697;left:146"><nobr><span class="ft25">Store offset and length<br>• Good for direct access<br>• Wasteful</span></nobr></DIV>
<DIV style="position:absolute;top:535;left:639"><nobr><span class="ft11">Used in</span></nobr></DIV>
<DIV style="position:absolute;top:567;left:635"><nobr><span class="ft11">memory</span></nobr></DIV>
<DIV style="position:absolute;top:535;left:969"><nobr><span class="ft11">Used on</span></nobr></DIV>
<DIV style="position:absolute;top:567;left:991"><nobr><span class="ft11">disk</span></nobr></DIV>
</DIV>
<!-- Page 11 -->
<a name="11"></a>
<DIV style="position:relative;width:1188;height:918;">
<STYLE type="text/css">
<!--
-->
</STYLE>
<DIV style="position:absolute;top:803;left:902"><nobr><span class="ft3">© 2006, Jamie Callan</span></nobr></DIV>
<DIV style="position:absolute;top:812;left:507"><nobr><span class="ft4">11</span></nobr></DIV>
<DIV style="position:absolute;top:122;left:418"><nobr><span class="ft0"><b>Document Parsing:</b></span></nobr></DIV>
<DIV style="position:absolute;top:168;left:438"><nobr><span class="ft0"><b>Lexical Scanning</b></span></nobr></DIV>
<DIV style="position:absolute;top:294;left:182"><nobr><span class="ft5">•</span></nobr></DIV>
<DIV style="position:absolute;top:299;left:216"><nobr><span class="ft6"><b>The lexical scanner identifies the document tokens</b></span></nobr></DIV>
<DIV style="position:absolute;top:342;left:236"><nobr><span class="ft7">– Markup (e.g., &lt;DOC&gt;, &lt;TITLE&gt;, &lt;TEXT&gt;)</span></nobr></DIV>
<DIV style="position:absolute;top:386;left:236"><nobr><span class="ft7">– Terms (e.g., “The” “President” “announced” “yesterday”)</span></nobr></DIV>
<DIV style="position:absolute;top:424;left:182"><nobr><span class="ft5">•</span></nobr></DIV>
<DIV style="position:absolute;top:429;left:216"><nobr><span class="ft6"><b>Lexical scanners need to be very fast</b></span></nobr></DIV>
<DIV style="position:absolute;top:472;left:236"><nobr><span class="ft7">– Don’t waste time doing the simple stuff</span></nobr></DIV>
<DIV style="position:absolute;top:516;left:236"><nobr><span class="ft7">– Usually implemented as finite state automata</span></nobr></DIV>
<DIV style="position:absolute;top:553;left:182"><nobr><span class="ft5">•</span></nobr></DIV>
<DIV style="position:absolute;top:559;left:216"><nobr><span class="ft6"><b>lex:  A lexical scanner generator (and its descendent, flex)</b></span></nobr></DIV>
<DIV style="position:absolute;top:602;left:236"><nobr><span class="ft7">– You write grammar rules that identify tokens</span></nobr></DIV>
<DIV style="position:absolute;top:646;left:236"><nobr><span class="ft7">– You write C code that does something when a token is found</span></nobr></DIV>
<DIV style="position:absolute;top:689;left:236"><nobr><span class="ft7">– lex generates the finite state automata</span></nobr></DIV>
<DIV style="position:absolute;top:732;left:236"><nobr><span class="ft7">– Few people can write a scanner that is faster than a lex scanner</span></nobr></DIV>
</DIV>
<!-- Page 12 -->
<a name="12"></a>
<DIV style="position:relative;width:1188;height:918;">
<STYLE type="text/css">
<!--
	.ft26{font-size:27px;line-height:32px;font-family:Times;color:#3333cc;}
-->
</STYLE>
<DIV style="position:absolute;top:803;left:902"><nobr><span class="ft3">© 2006, Jamie Callan</span></nobr></DIV>
<DIV style="position:absolute;top:812;left:507"><nobr><span class="ft4">12</span></nobr></DIV>
<DIV style="position:absolute;top:122;left:418"><nobr><span class="ft0"><b>Document Parsing:</b></span></nobr></DIV>
<DIV style="position:absolute;top:168;left:403"><nobr><span class="ft0"><b>Document Grammar</b></span></nobr></DIV>
<DIV style="position:absolute;top:294;left:182"><nobr><span class="ft5">•</span></nobr></DIV>
<DIV style="position:absolute;top:299;left:216"><nobr><span class="ft26"><b>Finite state automata are not powerful enough to handle</b><br><b>complex document formats</b></span></nobr></DIV>
<DIV style="position:absolute;top:375;left:236"><nobr><span class="ft7">– E.g., Nested fields</span></nobr></DIV>
<DIV style="position:absolute;top:413;left:182"><nobr><span class="ft5">•</span></nobr></DIV>
<DIV style="position:absolute;top:418;left:216"><nobr><span class="ft6"><b>Parsers based on context-free grammars are usually sufficient</b></span></nobr></DIV>
<DIV style="position:absolute;top:456;left:182"><nobr><span class="ft5">•</span></nobr></DIV>
<DIV style="position:absolute;top:461;left:216"><nobr><span class="ft6"><b>Parsers need to be very fast</b></span></nobr></DIV>
<DIV style="position:absolute;top:505;left:236"><nobr><span class="ft7">– Don’t waste time doing the simple stuff</span></nobr></DIV>
<DIV style="position:absolute;top:543;left:182"><nobr><span class="ft5">•</span></nobr></DIV>
<DIV style="position:absolute;top:548;left:216"><nobr><span class="ft6"><b>yacc:  A parser generator (and its descendent, bison)</b></span></nobr></DIV>
<DIV style="position:absolute;top:591;left:236"><nobr><span class="ft7">– You write grammar rules that define the document format</span></nobr></DIV>
<DIV style="position:absolute;top:635;left:236"><nobr><span class="ft7">– You write C code that does something when a rule is matched</span></nobr></DIV>
<DIV style="position:absolute;top:678;left:236"><nobr><span class="ft7">– yacc generates the parser</span></nobr></DIV>
<DIV style="position:absolute;top:721;left:236"><nobr><span class="ft7">– Few people can write a parser that is faster than a yacc parser</span></nobr></DIV>
</DIV>
<!-- Page 13 -->
<a name="13"></a>
<DIV style="position:relative;width:1188;height:918;">
<STYLE type="text/css">
<!--
-->
</STYLE>
<DIV style="position:absolute;top:803;left:902"><nobr><span class="ft3">© 2006, Jamie Callan</span></nobr></DIV>
<DIV style="position:absolute;top:812;left:507"><nobr><span class="ft4">13</span></nobr></DIV>
<DIV style="position:absolute;top:145;left:392"><nobr><span class="ft0"><b>Stopword Recognition</b></span></nobr></DIV>
<DIV style="position:absolute;top:294;left:182"><nobr><span class="ft5">•</span></nobr></DIV>
<DIV style="position:absolute;top:299;left:216"><nobr><span class="ft6"><b>There are usually fewer than 500 stopwords</b></span></nobr></DIV>
<DIV style="position:absolute;top:342;left:236"><nobr><span class="ft7">– Some systems have very few</span></nobr></DIV>
<DIV style="position:absolute;top:380;left:182"><nobr><span class="ft5">•</span></nobr></DIV>
<DIV style="position:absolute;top:386;left:216"><nobr><span class="ft6"><b>Every word token is checked, so the test must be very fast</b></span></nobr></DIV>
<DIV style="position:absolute;top:424;left:182"><nobr><span class="ft5">•</span></nobr></DIV>
<DIV style="position:absolute;top:429;left:216"><nobr><span class="ft6"><b>Store the stopword list in a hash table</b></span></nobr></DIV>
<DIV style="position:absolute;top:472;left:236"><nobr><span class="ft7">– Since stopword lists evolve slowly, calculate a perfect hash code</span></nobr></DIV>
<DIV style="position:absolute;top:510;left:182"><nobr><span class="ft5">•</span></nobr></DIV>
<DIV style="position:absolute;top:516;left:216"><nobr><span class="ft6"><b>Lookup each word token in the hash table</b></span></nobr></DIV>
<DIV style="position:absolute;top:559;left:236"><nobr><span class="ft7">– If found, the token is a stopword, so ignore it</span></nobr></DIV>
<DIV style="position:absolute;top:597;left:182"><nobr><span class="ft5">•</span></nobr></DIV>
<DIV style="position:absolute;top:602;left:216"><nobr><span class="ft6"><b>Document length &amp; word locations should count stopwords</b></span></nobr></DIV>
<DIV style="position:absolute;top:646;left:236"><nobr><span class="ft7">– Example:  “Library of Congress” is 3 words</span></nobr></DIV>
<DIV style="position:absolute;top:689;left:266"><nobr><span class="ft7">Locations:</span></nobr></DIV>
<DIV style="position:absolute;top:689;left:445"><nobr><span class="ft7">1</span></nobr></DIV>
<DIV style="position:absolute;top:689;left:505"><nobr><span class="ft7">2</span></nobr></DIV>
<DIV style="position:absolute;top:689;left:565"><nobr><span class="ft7">3</span></nobr></DIV>
</DIV>
<!-- Page 14 -->
<a name="14"></a>
<DIV style="position:relative;width:1188;height:918;">
<STYLE type="text/css">
<!--
-->
</STYLE>
<DIV style="position:absolute;top:803;left:902"><nobr><span class="ft3">© 2006, Jamie Callan</span></nobr></DIV>
<DIV style="position:absolute;top:812;left:507"><nobr><span class="ft4">14</span></nobr></DIV>
<DIV style="position:absolute;top:145;left:441"><nobr><span class="ft0"><b>Term Dictionary</b></span></nobr></DIV>
<DIV style="position:absolute;top:294;left:182"><nobr><span class="ft5">•</span></nobr></DIV>
<DIV style="position:absolute;top:299;left:216"><nobr><span class="ft6"><b>Main purpose:  </b></span></nobr></DIV>
<DIV style="position:absolute;top:299;left:420"><nobr><span class="ft7">Map terms (strings) to term identifiers (integers)</span></nobr></DIV>
<DIV style="position:absolute;top:342;left:236"><nobr><span class="ft7">– Example:  stocks </span></nobr></DIV>
<DIV style="position:absolute;top:342;left:512"><nobr><span class="ft7">14,319</span></nobr></DIV>
<DIV style="position:absolute;top:380;left:182"><nobr><span class="ft5">•</span></nobr></DIV>
<DIV style="position:absolute;top:386;left:216"><nobr><span class="ft6"><b>Other purposes:</b></span></nobr></DIV>
<DIV style="position:absolute;top:429;left:236"><nobr><span class="ft7">– Combine with stopword recognition</span></nobr></DIV>
<DIV style="position:absolute;top:472;left:290"><nobr><span class="ft7">» Lookup “stocks”, get term id or N/A if a stopword</span></nobr></DIV>
<DIV style="position:absolute;top:516;left:236"><nobr><span class="ft7">– Combine with stemming</span></nobr></DIV>
<DIV style="position:absolute;top:559;left:290"><nobr><span class="ft7">» Lookup “stocks”, get term id for “stock” (or N/A if a stopword)</span></nobr></DIV>
<DIV style="position:absolute;top:602;left:236"><nobr><span class="ft7">– Provide access to other information about the term</span></nobr></DIV>
<DIV style="position:absolute;top:646;left:290"><nobr><span class="ft7">» E.g., corpus statistics (df, ctf, idf, …)</span></nobr></DIV>
<DIV style="position:absolute;top:689;left:290"><nobr><span class="ft7">» E.g., pointer to inverted list</span></nobr></DIV>
</DIV>
<!-- Page 15 -->
<a name="15"></a>
<DIV style="position:relative;width:1188;height:918;">
<STYLE type="text/css">
<!--
	.ft27{font-size:31px;font-family:Helvetica;color:#3333cc;}
	.ft28{font-size:25px;line-height:29px;font-family:Times;color:#3333cc;}
-->
</STYLE>
<DIV style="position:absolute;top:803;left:902"><nobr><span class="ft3">© 2006, Jamie Callan</span></nobr></DIV>
<DIV style="position:absolute;top:812;left:507"><nobr><span class="ft4">15</span></nobr></DIV>
<DIV style="position:absolute;top:122;left:434"><nobr><span class="ft0"><b>Term Dictionary:</b></span></nobr></DIV>
<DIV style="position:absolute;top:168;left:523"><nobr><span class="ft0"><b>Storage</b></span></nobr></DIV>
<DIV style="position:absolute;top:298;left:182"><nobr><span class="ft10"><b>Hash tables</b></span></nobr></DIV>
<DIV style="position:absolute;top:332;left:182"><nobr><span class="ft27">•</span></nobr></DIV>
<DIV style="position:absolute;top:337;left:216"><nobr><span class="ft10"><b>O(1) lookup</b></span></nobr></DIV>
<DIV style="position:absolute;top:376;left:236"><nobr><span class="ft11">– Very fast</span></nobr></DIV>
<DIV style="position:absolute;top:415;left:236"><nobr><span class="ft11">– But…can suffer if terms</span></nobr></DIV>
<DIV style="position:absolute;top:445;left:263"><nobr><span class="ft11">don’t distribute evenly</span></nobr></DIV>
<DIV style="position:absolute;top:478;left:182"><nobr><span class="ft27">•</span></nobr></DIV>
<DIV style="position:absolute;top:484;left:216"><nobr><span class="ft10"><b>A little space inefficient</b></span></nobr></DIV>
<DIV style="position:absolute;top:523;left:236"><nobr><span class="ft11">– Empty slots</span></nobr></DIV>
<DIV style="position:absolute;top:556;left:182"><nobr><span class="ft27">•</span></nobr></DIV>
<DIV style="position:absolute;top:562;left:216"><nobr><span class="ft28"><b>Usually a big in-memory data</b><br><b>structure</b></span></nobr></DIV>
<DIV style="position:absolute;top:630;left:236"><nobr><span class="ft11">– Is this how you want to</span></nobr></DIV>
<DIV style="position:absolute;top:659;left:263"><nobr><span class="ft11">spend your RAM?</span></nobr></DIV>
<DIV style="position:absolute;top:298;left:614"><nobr><span class="ft10"><b>B-Trees</b></span></nobr></DIV>
<DIV style="position:absolute;top:332;left:614"><nobr><span class="ft27">•</span></nobr></DIV>
<DIV style="position:absolute;top:337;left:648"><nobr><span class="ft10"><b>O (log n) lookup</b></span></nobr></DIV>
<DIV style="position:absolute;top:376;left:668"><nobr><span class="ft11">– Fast, but not O(1)</span></nobr></DIV>
<DIV style="position:absolute;top:415;left:668"><nobr><span class="ft11">– Terms guaranteed to</span></nobr></DIV>
<DIV style="position:absolute;top:445;left:695"><nobr><span class="ft11">distribute evenly</span></nobr></DIV>
<DIV style="position:absolute;top:478;left:614"><nobr><span class="ft27">•</span></nobr></DIV>
<DIV style="position:absolute;top:484;left:648"><nobr><span class="ft10"><b>A little space inefficient</b></span></nobr></DIV>
<DIV style="position:absolute;top:523;left:668"><nobr><span class="ft11">– Pointers</span></nobr></DIV>
<DIV style="position:absolute;top:556;left:614"><nobr><span class="ft27">•</span></nobr></DIV>
<DIV style="position:absolute;top:562;left:648"><nobr><span class="ft28"><b>Often implemented as a two-</b><br><b>stage data structure</b></span></nobr></DIV>
<DIV style="position:absolute;top:630;left:668"><nobr><span class="ft11">– Frequent terms in memory</span></nobr></DIV>
<DIV style="position:absolute;top:669;left:668"><nobr><span class="ft11">– Infrequent terms on disk</span></nobr></DIV>
<DIV style="position:absolute;top:708;left:668"><nobr><span class="ft11">– Efficient use of RAM</span></nobr></DIV>
<DIV style="position:absolute;top:747;left:668"><nobr><span class="ft11">– Occasional slow access</span></nobr></DIV>
</DIV>
<!-- Page 16 -->
<a name="16"></a>
<DIV style="position:relative;width:1188;height:918;">
<STYLE type="text/css">
<!--
	.ft29{font-size:25px;font-family:Times;color:#000000;}
-->
</STYLE>
<DIV style="position:absolute;top:803;left:902"><nobr><span class="ft3">© 2006, Jamie Callan</span></nobr></DIV>
<DIV style="position:absolute;top:812;left:507"><nobr><span class="ft4">16</span></nobr></DIV>
<DIV style="position:absolute;top:122;left:408"><nobr><span class="ft0"><b>Document Indexing:</b></span></nobr></DIV>
<DIV style="position:absolute;top:168;left:481"><nobr><span class="ft0"><b>Why Index?</b></span></nobr></DIV>
<DIV style="position:absolute;top:271;left:182"><nobr><span class="ft10"><b>Choices for accessing data during query evaluation</b></span></nobr></DIV>
<DIV style="position:absolute;top:305;left:182"><nobr><span class="ft27">•</span></nobr></DIV>
<DIV style="position:absolute;top:310;left:216"><nobr><span class="ft10"><b>Scan the entire collection</b></span></nobr></DIV>
<DIV style="position:absolute;top:349;left:236"><nobr><span class="ft11">– Typical in early (batch) retrieval systems</span></nobr></DIV>
<DIV style="position:absolute;top:388;left:236"><nobr><span class="ft11">– Still used today, in hardware form (e.g., Fast Data Finder)</span></nobr></DIV>
<DIV style="position:absolute;top:427;left:236"><nobr><span class="ft11">– Computational and I/O costs are <i>O</i>(characters in collection)</span></nobr></DIV>
<DIV style="position:absolute;top:466;left:236"><nobr><span class="ft11">– Practical for only “small” collections</span></nobr></DIV>
<DIV style="position:absolute;top:500;left:182"><nobr><span class="ft27">•</span></nobr></DIV>
<DIV style="position:absolute;top:505;left:216"><nobr><span class="ft10"><b>Use indexes for direct access</b></span></nobr></DIV>
<DIV style="position:absolute;top:544;left:236"><nobr><span class="ft11">– An index associates a document with one or more <i>keys</i></span></nobr></DIV>
<DIV style="position:absolute;top:583;left:290"><nobr><span class="ft11">» Present a key, get back the document</span></nobr></DIV>
<DIV style="position:absolute;top:622;left:236"><nobr><span class="ft11">– Evaluation time <i>O</i>(query term occurrences in collection)</span></nobr></DIV>
<DIV style="position:absolute;top:661;left:236"><nobr><span class="ft11">– Practical for “large” collections</span></nobr></DIV>
<DIV style="position:absolute;top:700;left:236"><nobr><span class="ft11">– Many opportunities for optimization</span></nobr></DIV>
<DIV style="position:absolute;top:734;left:182"><nobr><span class="ft27">•</span></nobr></DIV>
<DIV style="position:absolute;top:739;left:216"><nobr><span class="ft10"><b>Hybrids:  Use small index, then scan a subset of the collection</b></span></nobr></DIV>
</DIV>
<!-- Page 17 -->
<a name="17"></a>
<DIV style="position:relative;width:1188;height:918;">
<STYLE type="text/css">
<!--
	.ft30{font-size:27px;font-family:Times;color:#000000;}
-->
</STYLE>
<DIV style="position:absolute;top:803;left:902"><nobr><span class="ft3">© 2006, Jamie Callan</span></nobr></DIV>
<DIV style="position:absolute;top:812;left:507"><nobr><span class="ft4">17</span></nobr></DIV>
<DIV style="position:absolute;top:122;left:408"><nobr><span class="ft0"><b>Document Indexing:</b></span></nobr></DIV>
<DIV style="position:absolute;top:168;left:462"><nobr><span class="ft0"><b>What to Index</b></span></nobr></DIV>
<DIV style="position:absolute;top:299;left:182"><nobr><span class="ft6"><b>What should the index contain?</b></span></nobr></DIV>
<DIV style="position:absolute;top:337;left:182"><nobr><span class="ft5">•</span></nobr></DIV>
<DIV style="position:absolute;top:342;left:216"><nobr><span class="ft6"><b>Database systems index primary and secondary keys</b></span></nobr></DIV>
<DIV style="position:absolute;top:386;left:236"><nobr><span class="ft7">– This is the hybrid approach</span></nobr></DIV>
<DIV style="position:absolute;top:429;left:236"><nobr><span class="ft7">– Index provides fast access to a subset of database records</span></nobr></DIV>
<DIV style="position:absolute;top:472;left:236"><nobr><span class="ft7">– Scan subset to find solution set</span></nobr></DIV>
<DIV style="position:absolute;top:510;left:182"><nobr><span class="ft5">•</span></nobr></DIV>
<DIV style="position:absolute;top:516;left:216"><nobr><span class="ft6"><b>Title, author, id, creation date, …</b></span></nobr></DIV>
<DIV style="position:absolute;top:559;left:236"><nobr><span class="ft7">– Good idea, but none of these support content-based retrieval</span></nobr></DIV>
<DIV style="position:absolute;top:597;left:182"><nobr><span class="ft5">•</span></nobr></DIV>
<DIV style="position:absolute;top:602;left:216"><nobr><span class="ft6"><b>IR Problem:</b></span></nobr></DIV>
<DIV style="position:absolute;top:602;left:391"><nobr><span class="ft7">Can’t predict the keys that people will use in queries</span></nobr></DIV>
<DIV style="position:absolute;top:646;left:236"><nobr><span class="ft7">– Every word in a document is a potential search term</span></nobr></DIV>
<DIV style="position:absolute;top:683;left:182"><nobr><span class="ft5">•</span></nobr></DIV>
<DIV style="position:absolute;top:689;left:216"><nobr><span class="ft6"><b>IR Solution:</b></span></nobr></DIV>
<DIV style="position:absolute;top:689;left:388"><nobr><span class="ft7">Index by <i>all </i>keys (words)</span></nobr></DIV>
<DIV style="position:absolute;top:732;left:236"><nobr><span class="ft7">– “full text indexing”</span></nobr></DIV>
</DIV>
<!-- Page 18 -->
<a name="18"></a>
<DIV style="position:relative;width:1188;height:918;">
<STYLE type="text/css">
<!--
-->
</STYLE>
<DIV style="position:absolute;top:803;left:902"><nobr><span class="ft3">© 2006, Jamie Callan</span></nobr></DIV>
<DIV style="position:absolute;top:812;left:507"><nobr><span class="ft4">18</span></nobr></DIV>
<DIV style="position:absolute;top:145;left:523"><nobr><span class="ft0"><b>Indexes</b></span></nobr></DIV>
<DIV style="position:absolute;top:299;left:182"><nobr><span class="ft6"><b>The index is accessed by the atoms of a query language</b></span></nobr></DIV>
<DIV style="position:absolute;top:337;left:182"><nobr><span class="ft5">•</span></nobr></DIV>
<DIV style="position:absolute;top:342;left:216"><nobr><span class="ft6"><b>The atoms are called “features” or “keys” or “terms”</b></span></nobr></DIV>
<DIV style="position:absolute;top:380;left:182"><nobr><span class="ft5">•</span></nobr></DIV>
<DIV style="position:absolute;top:386;left:216"><nobr><span class="ft6"><b>Most common feature types</b>:</span></nobr></DIV>
<DIV style="position:absolute;top:429;left:236"><nobr><span class="ft7">– Words in text, punctuation</span></nobr></DIV>
<DIV style="position:absolute;top:472;left:236"><nobr><span class="ft7">– Manually assigned terms (controlled &amp; uncontrolled vocabulary)</span></nobr></DIV>
<DIV style="position:absolute;top:516;left:236"><nobr><span class="ft7">– Document structure (sentence &amp; paragraph boundaries)</span></nobr></DIV>
<DIV style="position:absolute;top:559;left:236"><nobr><span class="ft7">– Inter- or intradocument links (e.g., citations)</span></nobr></DIV>
<DIV style="position:absolute;top:597;left:182"><nobr><span class="ft5">•</span></nobr></DIV>
<DIV style="position:absolute;top:602;left:216"><nobr><span class="ft6"><b>Composed features</b></span></nobr></DIV>
<DIV style="position:absolute;top:646;left:236"><nobr><span class="ft7">– Feature sequences (phrases, names, dates, monetary amounts)</span></nobr></DIV>
<DIV style="position:absolute;top:689;left:236"><nobr><span class="ft7">– Feature sets (e.g., synonym classes)</span></nobr></DIV>
</DIV>
<!-- Page 19 -->
<a name="19"></a>
<DIV style="position:relative;width:1188;height:918;">
<STYLE type="text/css">
<!--
-->
</STYLE>
<DIV style="position:absolute;top:803;left:902"><nobr><span class="ft3">© 2006, Jamie Callan</span></nobr></DIV>
<DIV style="position:absolute;top:812;left:507"><nobr><span class="ft4">19</span></nobr></DIV>
<DIV style="position:absolute;top:145;left:523"><nobr><span class="ft0"><b>Indexes</b></span></nobr></DIV>
<DIV style="position:absolute;top:299;left:182"><nobr><span class="ft6"><b>Indexing choices (there is no “right” answer)</b></span></nobr></DIV>
<DIV style="position:absolute;top:337;left:182"><nobr><span class="ft5">•</span></nobr></DIV>
<DIV style="position:absolute;top:342;left:216"><nobr><span class="ft6"><b>What is a word?</b></span></nobr></DIV>
<DIV style="position:absolute;top:386;left:236"><nobr><span class="ft7">– Embedded punctuation (e.g., DC-10, long-term)</span></nobr></DIV>
<DIV style="position:absolute;top:429;left:236"><nobr><span class="ft7">– Case folding (e.g., New vs new, Apple vs apple)</span></nobr></DIV>
<DIV style="position:absolute;top:472;left:236"><nobr><span class="ft7">– Stopwords (e.g., the, a, its)</span></nobr></DIV>
<DIV style="position:absolute;top:516;left:236"><nobr><span class="ft7">– Morphology (e.g., computer, computers, computing, computed)</span></nobr></DIV>
<DIV style="position:absolute;top:553;left:182"><nobr><span class="ft5">•</span></nobr></DIV>
<DIV style="position:absolute;top:559;left:216"><nobr><span class="ft6"><b>Index granularity has a large impact on speed &amp; effectiveness</b></span></nobr></DIV>
<DIV style="position:absolute;top:602;left:236"><nobr><span class="ft7">– Index stems only?</span></nobr></DIV>
<DIV style="position:absolute;top:646;left:236"><nobr><span class="ft7">– Index surface forms only?</span></nobr></DIV>
<DIV style="position:absolute;top:689;left:236"><nobr><span class="ft7">– Index both?</span></nobr></DIV>
</DIV>
<!-- Page 20 -->
<a name="20"></a>
<DIV style="position:relative;width:1188;height:918;">
<STYLE type="text/css">
<!--
-->
</STYLE>
<DIV style="position:absolute;top:803;left:902"><nobr><span class="ft3">© 2006, Jamie Callan</span></nobr></DIV>
<DIV style="position:absolute;top:812;left:507"><nobr><span class="ft4">20</span></nobr></DIV>
<DIV style="position:absolute;top:145;left:455"><nobr><span class="ft0"><b>Index Contents</b></span></nobr></DIV>
<DIV style="position:absolute;top:299;left:182"><nobr><span class="ft6"><b>The contents depend upon the retrieval model</b></span></nobr></DIV>
<DIV style="position:absolute;top:337;left:182"><nobr><span class="ft5">•</span></nobr></DIV>
<DIV style="position:absolute;top:342;left:216"><nobr><span class="ft6"><b>Feature presence/absence (e.g., SMART)</b></span></nobr></DIV>
<DIV style="position:absolute;top:386;left:236"><nobr><span class="ft7">– Boolean</span></nobr></DIV>
<DIV style="position:absolute;top:429;left:236"><nobr><span class="ft7">– Statistical (<i>tf, df, ctf, doclen, maxtf)</i></span></nobr></DIV>
<DIV style="position:absolute;top:472;left:236"><nobr><span class="ft7">– Often about 10% the size of the raw data, compressed</span></nobr></DIV>
<DIV style="position:absolute;top:510;left:182"><nobr><span class="ft5">•</span></nobr></DIV>
<DIV style="position:absolute;top:516;left:216"><nobr><span class="ft6"><b>Positional (e.g., InQuery, Lemur)</b></span></nobr></DIV>
<DIV style="position:absolute;top:559;left:236"><nobr><span class="ft7">– Feature location in document</span></nobr></DIV>
<DIV style="position:absolute;top:602;left:236"><nobr><span class="ft7">– Granularities include word, sentence, paragraph, etc</span></nobr></DIV>
<DIV style="position:absolute;top:646;left:236"><nobr><span class="ft7">– Coarse granularities are less precise, but take less space</span></nobr></DIV>
<DIV style="position:absolute;top:689;left:236"><nobr><span class="ft7">– Word-level granularity about 20-30% the size of the raw</span></nobr></DIV>
<DIV style="position:absolute;top:721;left:263"><nobr><span class="ft7">data, compressed</span></nobr></DIV>
</DIV>
<!-- Page 21 -->
<a name="21"></a>
<DIV style="position:relative;width:1188;height:918;">
<STYLE type="text/css">
<!--
-->
</STYLE>
<DIV style="position:absolute;top:803;left:902"><nobr><span class="ft3">© 2006, Jamie Callan</span></nobr></DIV>
<DIV style="position:absolute;top:812;left:507"><nobr><span class="ft4">21</span></nobr></DIV>
<DIV style="position:absolute;top:122;left:516"><nobr><span class="ft0"><b>Indexes:</b></span></nobr></DIV>
<DIV style="position:absolute;top:168;left:448"><nobr><span class="ft0"><b>Implementation</b></span></nobr></DIV>
<DIV style="position:absolute;top:299;left:182"><nobr><span class="ft6"><b>Common implementations of indexes</b></span></nobr></DIV>
<DIV style="position:absolute;top:337;left:182"><nobr><span class="ft5">•</span></nobr></DIV>
<DIV style="position:absolute;top:342;left:216"><nobr><span class="ft6"><b>Bitmaps</b></span></nobr></DIV>
<DIV style="position:absolute;top:380;left:182"><nobr><span class="ft5">•</span></nobr></DIV>
<DIV style="position:absolute;top:386;left:216"><nobr><span class="ft6"><b>Signature files</b></span></nobr></DIV>
<DIV style="position:absolute;top:424;left:182"><nobr><span class="ft5">•</span></nobr></DIV>
<DIV style="position:absolute;top:429;left:216"><nobr><span class="ft6"><b>Inverted files</b></span></nobr></DIV>
<DIV style="position:absolute;top:472;left:236"><nobr><span class="ft7">– The most common choice today</span></nobr></DIV>
<DIV style="position:absolute;top:559;left:182"><nobr><span class="ft6"><b>Common index components</b></span></nobr></DIV>
<DIV style="position:absolute;top:597;left:182"><nobr><span class="ft5">•</span></nobr></DIV>
<DIV style="position:absolute;top:602;left:216"><nobr><span class="ft6"><b>Dictionary (lexicon)</b></span></nobr></DIV>
<DIV style="position:absolute;top:640;left:182"><nobr><span class="ft5">•</span></nobr></DIV>
<DIV style="position:absolute;top:646;left:216"><nobr><span class="ft6"><b>Postings</b></span></nobr></DIV>
<DIV style="position:absolute;top:689;left:236"><nobr><span class="ft7">– document ids, word positions</span></nobr></DIV>
</DIV>
<!-- Page 22 -->
<a name="22"></a>
<DIV style="position:relative;width:1188;height:918;">
<STYLE type="text/css">
<!--
-->
</STYLE>
<DIV style="position:absolute;top:803;left:902"><nobr><span class="ft3">© 2006, Jamie Callan</span></nobr></DIV>
<DIV style="position:absolute;top:812;left:507"><nobr><span class="ft4">22</span></nobr></DIV>
<DIV style="position:absolute;top:122;left:516"><nobr><span class="ft0"><b>Indexes:</b></span></nobr></DIV>
<DIV style="position:absolute;top:168;left:466"><nobr><span class="ft0"><b>Inverted Lists</b></span></nobr></DIV>
<DIV style="position:absolute;top:299;left:182"><nobr><span class="ft6"><b>Inverted lists are today the most common indexing technique</b></span></nobr></DIV>
<DIV style="position:absolute;top:337;left:182"><nobr><span class="ft5">•</span></nobr></DIV>
<DIV style="position:absolute;top:342;left:216"><nobr><span class="ft6"><b>Source file: </b>collection, organized by document</span></nobr></DIV>
<DIV style="position:absolute;top:380;left:182"><nobr><span class="ft5">•</span></nobr></DIV>
<DIV style="position:absolute;top:386;left:216"><nobr><span class="ft6"><b>Inverted file: </b>collection organized by term</span></nobr></DIV>
<DIV style="position:absolute;top:429;left:236"><nobr><span class="ft7">– one record per term, listing locations where term occurs</span></nobr></DIV>
<DIV style="position:absolute;top:467;left:182"><nobr><span class="ft5">•</span></nobr></DIV>
<DIV style="position:absolute;top:472;left:216"><nobr><span class="ft6"><b>During evaluation, traverse lists for each query term</b></span></nobr></DIV>
<DIV style="position:absolute;top:516;left:236"><nobr><span class="ft7">– OR:  the <i>union </i>of component lists</span></nobr></DIV>
<DIV style="position:absolute;top:559;left:236"><nobr><span class="ft7">– AND: an <i>intersection </i>of component lists</span></nobr></DIV>
<DIV style="position:absolute;top:602;left:236"><nobr><span class="ft7">– Proximity:  an <i>intersection </i>of component lists</span></nobr></DIV>
<DIV style="position:absolute;top:646;left:236"><nobr><span class="ft7">– SUM:  the <i>union </i>of component lists; each entry has a score</span></nobr></DIV>
</DIV>
<!-- Page 23 -->
<a name="23"></a>
<DIV style="position:relative;width:1188;height:918;">
<STYLE type="text/css">
<!--
	.ft31{font-size:24px;font-family:Times;color:#000000;}
	.ft32{font-size:13px;font-family:Times;color:#000000;}
	.ft33{font-size:27px;font-family:Times;color:#000000;}
	.ft34{font-size:15px;font-family:Times;color:#000000;}
	.ft35{font-size:27px;line-height:35px;font-family:Times;color:#000000;}
-->
</STYLE>
<DIV style="position:absolute;top:803;left:902"><nobr><span class="ft3">© 2006, Jamie Callan</span></nobr></DIV>
<DIV style="position:absolute;top:812;left:507"><nobr><span class="ft4">23</span></nobr></DIV>
<DIV style="position:absolute;top:145;left:466"><nobr><span class="ft0"><b>Inverted Lists</b></span></nobr></DIV>
<DIV style="position:absolute;top:277;left:116"><nobr><span class="ft31"><b>Document</b></span></nobr></DIV>
<DIV style="position:absolute;top:277;left:461"><nobr><span class="ft31"><b>Text</b></span></nobr></DIV>
<DIV style="position:absolute;top:318;left:172"><nobr><span class="ft20">1</span></nobr></DIV>
<DIV style="position:absolute;top:318;left:257"><nobr><span class="ft20">Pease porridge hot, pease porridge cold,</span></nobr></DIV>
<DIV style="position:absolute;top:359;left:172"><nobr><span class="ft20">2</span></nobr></DIV>
<DIV style="position:absolute;top:359;left:257"><nobr><span class="ft20">Pease porridge in the pot,</span></nobr></DIV>
<DIV style="position:absolute;top:401;left:172"><nobr><span class="ft20">3</span></nobr></DIV>
<DIV style="position:absolute;top:401;left:257"><nobr><span class="ft20">Nine days old</span></nobr></DIV>
<DIV style="position:absolute;top:443;left:172"><nobr><span class="ft20">4</span></nobr></DIV>
<DIV style="position:absolute;top:443;left:257"><nobr><span class="ft20">Some like it hot, some like it cold</span></nobr></DIV>
<DIV style="position:absolute;top:484;left:172"><nobr><span class="ft20">5</span></nobr></DIV>
<DIV style="position:absolute;top:484;left:257"><nobr><span class="ft20">Some like it in the pot,</span></nobr></DIV>
<DIV style="position:absolute;top:526;left:172"><nobr><span class="ft20">6</span></nobr></DIV>
<DIV style="position:absolute;top:526;left:257"><nobr><span class="ft20">Nine days old.</span></nobr></DIV>
<DIV style="position:absolute;top:590;left:110"><nobr><span class="ft35">6 documents<br>Each line is one document.</span></nobr></DIV>
<DIV style="position:absolute;top:278;left:747"><nobr><span class="ft33"><b>ID Term </b></span></nobr></DIV>
<DIV style="position:absolute;top:278;left:914"><nobr><span class="ft33"><b>Documents</b></span></nobr></DIV>
<DIV style="position:absolute;top:312;left:756"><nobr><span class="ft7">1  cold</span></nobr></DIV>
<DIV style="position:absolute;top:312;left:967"><nobr><span class="ft7">1,4</span></nobr></DIV>
<DIV style="position:absolute;top:348;left:756"><nobr><span class="ft7">2  days</span></nobr></DIV>
<DIV style="position:absolute;top:348;left:967"><nobr><span class="ft7">3,6</span></nobr></DIV>
<DIV style="position:absolute;top:383;left:756"><nobr><span class="ft7">3  hot</span></nobr></DIV>
<DIV style="position:absolute;top:383;left:967"><nobr><span class="ft7">1,4</span></nobr></DIV>
<DIV style="position:absolute;top:418;left:756"><nobr><span class="ft7">4  in</span></nobr></DIV>
<DIV style="position:absolute;top:418;left:967"><nobr><span class="ft7">2,5</span></nobr></DIV>
<DIV style="position:absolute;top:453;left:756"><nobr><span class="ft7">5  it</span></nobr></DIV>
<DIV style="position:absolute;top:453;left:967"><nobr><span class="ft7">4,5</span></nobr></DIV>
<DIV style="position:absolute;top:488;left:756"><nobr><span class="ft7">6  like</span></nobr></DIV>
<DIV style="position:absolute;top:488;left:967"><nobr><span class="ft7">4,5</span></nobr></DIV>
<DIV style="position:absolute;top:523;left:756"><nobr><span class="ft7">7  mine</span></nobr></DIV>
<DIV style="position:absolute;top:523;left:967"><nobr><span class="ft7">3,6</span></nobr></DIV>
<DIV style="position:absolute;top:558;left:756"><nobr><span class="ft7">8  old</span></nobr></DIV>
<DIV style="position:absolute;top:558;left:967"><nobr><span class="ft7">3,6</span></nobr></DIV>
<DIV style="position:absolute;top:593;left:756"><nobr><span class="ft7">9  pease</span></nobr></DIV>
<DIV style="position:absolute;top:593;left:967"><nobr><span class="ft7">1,2</span></nobr></DIV>
<DIV style="position:absolute;top:628;left:748"><nobr><span class="ft7">10 porridge</span></nobr></DIV>
<DIV style="position:absolute;top:628;left:967"><nobr><span class="ft7">1,2</span></nobr></DIV>
<DIV style="position:absolute;top:664;left:748"><nobr><span class="ft7">11 pot</span></nobr></DIV>
<DIV style="position:absolute;top:664;left:967"><nobr><span class="ft7">2,5</span></nobr></DIV>
<DIV style="position:absolute;top:699;left:748"><nobr><span class="ft7">12 some</span></nobr></DIV>
<DIV style="position:absolute;top:699;left:967"><nobr><span class="ft7">4,5</span></nobr></DIV>
<DIV style="position:absolute;top:734;left:748"><nobr><span class="ft7">13 the</span></nobr></DIV>
<DIV style="position:absolute;top:734;left:967"><nobr><span class="ft7">2,5 </span></nobr></DIV>
</DIV>
<!-- Page 24 -->
<a name="24"></a>
<DIV style="position:relative;width:1188;height:918;">
<STYLE type="text/css">
<!--
-->
</STYLE>
<DIV style="position:absolute;top:803;left:902"><nobr><span class="ft3">© 2006, Jamie Callan</span></nobr></DIV>
<DIV style="position:absolute;top:812;left:507"><nobr><span class="ft4">24</span></nobr></DIV>
<DIV style="position:absolute;top:122;left:403"><nobr><span class="ft0"><b>Using Inverted Lists:</b></span></nobr></DIV>
<DIV style="position:absolute;top:168;left:280"><nobr><span class="ft0"><b>Term-at-a-Time Query Evaluation</b></span></nobr></DIV>
<DIV style="position:absolute;top:329;left:551"><nobr><span class="ft6"><b>1.</b></span></nobr></DIV>
<DIV style="position:absolute;top:329;left:605"><nobr><span class="ft35">Read inverted list for ‘like’ from<br>inverted list database</span></nobr></DIV>
<DIV style="position:absolute;top:401;left:551"><nobr><span class="ft6"><b>2.</b></span></nobr></DIV>
<DIV style="position:absolute;top:401;left:605"><nobr><span class="ft35">Read inverted list for ‘hot’ from<br>inverted list database</span></nobr></DIV>
<DIV style="position:absolute;top:473;left:551"><nobr><span class="ft6"><b>3.</b></span></nobr></DIV>
<DIV style="position:absolute;top:473;left:605"><nobr><span class="ft35">AND operator:  Intersect the inverted<br>lists for ‘like’ and ‘hot’</span></nobr></DIV>
<DIV style="position:absolute;top:545;left:551"><nobr><span class="ft6"><b>4.</b></span></nobr></DIV>
<DIV style="position:absolute;top:545;left:605"><nobr><span class="ft35">Read inverted list for ‘pot’ from<br>inverted list database</span></nobr></DIV>
<DIV style="position:absolute;top:617;left:551"><nobr><span class="ft6"><b>5.</b></span></nobr></DIV>
<DIV style="position:absolute;top:617;left:605"><nobr><span class="ft35">OR operator:  Union of AND operator<br>results and ‘pot’ inverted list</span></nobr></DIV>
<DIV style="position:absolute;top:383;left:317"><nobr><span class="ft33"><b>OR</b></span></nobr></DIV>
<DIV style="position:absolute;top:473;left:236"><nobr><span class="ft33"><b>AND</b></span></nobr></DIV>
<DIV style="position:absolute;top:510;left:183"><nobr><span class="ft35">4<br>5</span></nobr></DIV>
<DIV style="position:absolute;top:510;left:327"><nobr><span class="ft35">1<br>4</span></nobr></DIV>
<DIV style="position:absolute;top:384;left:426"><nobr><span class="ft35">2<br>5</span></nobr></DIV>
<DIV style="position:absolute;top:473;left:425"><nobr><span class="ft7">pot</span></nobr></DIV>
<DIV style="position:absolute;top:734;left:542"><nobr><span class="ft33"><b>Inverted List</b></span></nobr></DIV>
<DIV style="position:absolute;top:770;left:566"><nobr><span class="ft33"><b>Database</b></span></nobr></DIV>
<DIV style="position:absolute;top:608;left:182"><nobr><span class="ft7">like</span></nobr></DIV>
<DIV style="position:absolute;top:608;left:297"><nobr><span class="ft7">hot</span></nobr></DIV>
<DIV style="position:absolute;top:699;left:190"><nobr><span class="ft35">4<br>5</span></nobr></DIV>
<DIV style="position:absolute;top:699;left:316"><nobr><span class="ft35">1<br>4</span></nobr></DIV>
<DIV style="position:absolute;top:699;left:442"><nobr><span class="ft35">2<br>5</span></nobr></DIV>
<DIV style="position:absolute;top:411;left:264"><nobr><span class="ft7">4</span></nobr></DIV>
<DIV style="position:absolute;top:267;left:336"><nobr><span class="ft35">2<br>4<br>5</span></nobr></DIV>
<DIV style="position:absolute;top:608;left:146"><nobr><span class="ft6"><b>1.</b></span></nobr></DIV>
<DIV style="position:absolute;top:608;left:263"><nobr><span class="ft6"><b>2.</b></span></nobr></DIV>
<DIV style="position:absolute;top:455;left:209"><nobr><span class="ft6"><b>3.</b></span></nobr></DIV>
<DIV style="position:absolute;top:473;left:389"><nobr><span class="ft6"><b>4.</b></span></nobr></DIV>
<DIV style="position:absolute;top:356;left:281"><nobr><span class="ft6"><b>5.</b></span></nobr></DIV>
<DIV style="position:absolute;top:266;left:470"><nobr><span class="ft6"><b>Query:</b></span></nobr></DIV>
<DIV style="position:absolute;top:266;left:584"><nobr><span class="ft7">(like AND hot) OR pot</span></nobr></DIV>
</DIV>
<!-- Page 25 -->
<a name="25"></a>
<DIV style="position:relative;width:1188;height:918;">
<STYLE type="text/css">
<!--
-->
</STYLE>
<DIV style="position:absolute;top:803;left:902"><nobr><span class="ft3">© 2006, Jamie Callan</span></nobr></DIV>
<DIV style="position:absolute;top:812;left:507"><nobr><span class="ft4">25</span></nobr></DIV>
<DIV style="position:absolute;top:122;left:466"><nobr><span class="ft0"><b>Inverted Lists</b></span></nobr></DIV>
<DIV style="position:absolute;top:168;left:403"><nobr><span class="ft0"><b>With Word Positions</b></span></nobr></DIV>
<DIV style="position:absolute;top:277;left:737"><nobr><span class="ft33"><b>ID Term </b></span></nobr></DIV>
<DIV style="position:absolute;top:277;left:905"><nobr><span class="ft33"><b>Documents</b></span></nobr></DIV>
<DIV style="position:absolute;top:313;left:746"><nobr><span class="ft7">1  cold</span></nobr></DIV>
<DIV style="position:absolute;top:313;left:905"><nobr><span class="ft7">(1:6)    (4:8)</span></nobr></DIV>
<DIV style="position:absolute;top:348;left:746"><nobr><span class="ft7">2  days</span></nobr></DIV>
<DIV style="position:absolute;top:348;left:905"><nobr><span class="ft7">(3:2)    (6:2)</span></nobr></DIV>
<DIV style="position:absolute;top:383;left:746"><nobr><span class="ft7">3  hot</span></nobr></DIV>
<DIV style="position:absolute;top:383;left:905"><nobr><span class="ft7">(1:3)    (4:4)</span></nobr></DIV>
<DIV style="position:absolute;top:418;left:746"><nobr><span class="ft7">4  in</span></nobr></DIV>
<DIV style="position:absolute;top:418;left:905"><nobr><span class="ft7">(2:3)    (5:4)</span></nobr></DIV>
<DIV style="position:absolute;top:453;left:746"><nobr><span class="ft7">5  it</span></nobr></DIV>
<DIV style="position:absolute;top:453;left:905"><nobr><span class="ft7">(4:3,7) (5:3)</span></nobr></DIV>
<DIV style="position:absolute;top:488;left:746"><nobr><span class="ft7">6  like</span></nobr></DIV>
<DIV style="position:absolute;top:488;left:905"><nobr><span class="ft7">(4:2,6) (5:2)</span></nobr></DIV>
<DIV style="position:absolute;top:523;left:746"><nobr><span class="ft7">7  mine</span></nobr></DIV>
<DIV style="position:absolute;top:523;left:905"><nobr><span class="ft7">(3:1)    (6:1)</span></nobr></DIV>
<DIV style="position:absolute;top:558;left:746"><nobr><span class="ft7">8  old</span></nobr></DIV>
<DIV style="position:absolute;top:558;left:905"><nobr><span class="ft7">(3:3)    (6:3)</span></nobr></DIV>
<DIV style="position:absolute;top:593;left:746"><nobr><span class="ft7">9  pease </span></nobr></DIV>
<DIV style="position:absolute;top:593;left:905"><nobr><span class="ft7">(1:1,4) (2:1)</span></nobr></DIV>
<DIV style="position:absolute;top:629;left:739"><nobr><span class="ft35">10 porridge (1:2,5) (2:2)<br>11 pot</span></nobr></DIV>
<DIV style="position:absolute;top:664;left:905"><nobr><span class="ft7">(2:5)    (5:6)</span></nobr></DIV>
<DIV style="position:absolute;top:699;left:739"><nobr><span class="ft7">12 some</span></nobr></DIV>
<DIV style="position:absolute;top:699;left:905"><nobr><span class="ft7">(4:1,5) (5:1)</span></nobr></DIV>
<DIV style="position:absolute;top:734;left:739"><nobr><span class="ft7">13 the</span></nobr></DIV>
<DIV style="position:absolute;top:734;left:905"><nobr><span class="ft7">(2:4)    (5:5)</span></nobr></DIV>
<DIV style="position:absolute;top:277;left:116"><nobr><span class="ft31"><b>Document</b></span></nobr></DIV>
<DIV style="position:absolute;top:277;left:461"><nobr><span class="ft31"><b>Text</b></span></nobr></DIV>
<DIV style="position:absolute;top:318;left:172"><nobr><span class="ft20">1</span></nobr></DIV>
<DIV style="position:absolute;top:318;left:257"><nobr><span class="ft20">Pease porridge hot, pease porridge cold,</span></nobr></DIV>
<DIV style="position:absolute;top:359;left:172"><nobr><span class="ft20">2</span></nobr></DIV>
<DIV style="position:absolute;top:359;left:257"><nobr><span class="ft20">Pease porridge in the pot,</span></nobr></DIV>
<DIV style="position:absolute;top:401;left:172"><nobr><span class="ft20">3</span></nobr></DIV>
<DIV style="position:absolute;top:401;left:257"><nobr><span class="ft20">Nine days old</span></nobr></DIV>
<DIV style="position:absolute;top:443;left:172"><nobr><span class="ft20">4</span></nobr></DIV>
<DIV style="position:absolute;top:443;left:257"><nobr><span class="ft20">Some like it hot, some like it cold</span></nobr></DIV>
<DIV style="position:absolute;top:484;left:172"><nobr><span class="ft20">5</span></nobr></DIV>
<DIV style="position:absolute;top:484;left:257"><nobr><span class="ft20">Some like it in the pot,</span></nobr></DIV>
<DIV style="position:absolute;top:526;left:172"><nobr><span class="ft20">6</span></nobr></DIV>
<DIV style="position:absolute;top:526;left:257"><nobr><span class="ft20">Nine days old.</span></nobr></DIV>
<DIV style="position:absolute;top:590;left:110"><nobr><span class="ft35">6 documents<br>Each line is one document.</span></nobr></DIV>
</DIV>
<!-- Page 26 -->
<a name="26"></a>
<DIV style="position:relative;width:1188;height:918;">
<STYLE type="text/css">
<!--
	.ft36{font-size:25px;font-family:Times;color:#000000;}
	.ft37{font-size:25px;line-height:32px;font-family:Times;color:#000000;}
-->
</STYLE>
<DIV style="position:absolute;top:803;left:902"><nobr><span class="ft3">© 2006, Jamie Callan</span></nobr></DIV>
<DIV style="position:absolute;top:812;left:507"><nobr><span class="ft4">26</span></nobr></DIV>
<DIV style="position:absolute;top:122;left:291"><nobr><span class="ft0"><b>Inverted Lists and Inverted Files:</b></span></nobr></DIV>
<DIV style="position:absolute;top:168;left:267"><nobr><span class="ft0"><b>Inverted List Fragments in Memory</b></span></nobr></DIV>
<DIV style="position:absolute;top:293;left:128"><nobr><span class="ft6"><b>Allocate RAM buffer for</b></span></nobr></DIV>
<DIV style="position:absolute;top:329;left:162"><nobr><span class="ft6"><b>inverted list fragments</b></span></nobr></DIV>
<DIV style="position:absolute;top:365;left:128"><nobr><span class="ft7">• Usually small compared to</span></nobr></DIV>
<DIV style="position:absolute;top:401;left:162"><nobr><span class="ft7">size of collection (1-5%)</span></nobr></DIV>
<DIV style="position:absolute;top:437;left:128"><nobr><span class="ft7">• When a token is</span></nobr></DIV>
<DIV style="position:absolute;top:473;left:162"><nobr><span class="ft35">recognized, update<br>inverted list fragment</span></nobr></DIV>
<DIV style="position:absolute;top:545;left:128"><nobr><span class="ft7">• When buffer is full</span></nobr></DIV>
<DIV style="position:absolute;top:581;left:182"><nobr><span class="ft35">• write fragments to disk<br>• reinitialize buffer<br>• continue parsing</span></nobr></DIV>
<DIV style="position:absolute;top:689;left:128"><nobr><span class="ft7">• When all documents have</span></nobr></DIV>
<DIV style="position:absolute;top:725;left:162"><nobr><span class="ft35">been parsed, merge<br>inverted list fragments</span></nobr></DIV>
<DIV style="position:absolute;top:455;left:621"><nobr><span class="ft36"><b>. . . .</b></span></nobr></DIV>
<DIV style="position:absolute;top:455;left:855"><nobr><span class="ft36"><b>. . . .</b></span></nobr></DIV>
<DIV style="position:absolute;top:392;left:729"><nobr><span class="ft36"><b>. . . .</b></span></nobr></DIV>
<DIV style="position:absolute;top:484;left:515"><nobr><span class="ft11">apple</span></nobr></DIV>
<DIV style="position:absolute;top:488;left:954"><nobr><span class="ft11">zebra</span></nobr></DIV>
<DIV style="position:absolute;top:320;left:650"><nobr><span class="ft18"><b>B-Tree-style Access</b></span></nobr></DIV>
<DIV style="position:absolute;top:645;left:677"><nobr><span class="ft37"><b>. . . .</b><br><b>. . . .</b><br><b>. . . .</b></span></nobr></DIV>
<DIV style="position:absolute;top:626;left:908"><nobr><span class="ft18"><b>Inverted List</b></span></nobr></DIV>
<DIV style="position:absolute;top:662;left:875"><nobr><span class="ft18"><b>Buffer in Memory</b></span></nobr></DIV>
<DIV style="position:absolute;top:698;left:931"><nobr><span class="ft18"><b>(128 MB)</b></span></nobr></DIV>
</DIV>
<!-- Page 27 -->
<a name="27"></a>
<DIV style="position:relative;width:1188;height:918;">
<STYLE type="text/css">
<!--
	.ft38{font-size:34px;font-family:Times;color:#000000;}
	.ft39{font-size:34px;line-height:43px;font-family:Times;color:#000000;}
-->
</STYLE>
<DIV style="position:absolute;top:803;left:902"><nobr><span class="ft3">© 2006, Jamie Callan</span></nobr></DIV>
<DIV style="position:absolute;top:812;left:507"><nobr><span class="ft4">27</span></nobr></DIV>
<DIV style="position:absolute;top:122;left:291"><nobr><span class="ft0"><b>Inverted Lists and Inverted Files:</b></span></nobr></DIV>
<DIV style="position:absolute;top:168;left:235"><nobr><span class="ft0"><b>Merge Inverted List Fragments on Disk</b></span></nobr></DIV>
<DIV style="position:absolute;top:297;left:276"><nobr><span class="ft11">ape</span></nobr></DIV>
<DIV style="position:absolute;top:297;left:339"><nobr><span class="ft11">apple</span></nobr></DIV>
<DIV style="position:absolute;top:306;left:173"><nobr><span class="ft11">1-1357</span></nobr></DIV>
<DIV style="position:absolute;top:297;left:420"><nobr><span class="ft11">art</span></nobr></DIV>
<DIV style="position:absolute;top:297;left:483"><nobr><span class="ft11">astronomy</span></nobr></DIV>
<DIV style="position:absolute;top:295;left:825"><nobr><span class="ft2"><b>…..</b></span></nobr></DIV>
<DIV style="position:absolute;top:297;left:987"><nobr><span class="ft11">zebra</span></nobr></DIV>
<DIV style="position:absolute;top:423;left:281"><nobr><span class="ft11">apple</span></nobr></DIV>
<DIV style="position:absolute;top:423;left:380"><nobr><span class="ft11">art</span></nobr></DIV>
<DIV style="position:absolute;top:423;left:533"><nobr><span class="ft11">astronomy</span></nobr></DIV>
<DIV style="position:absolute;top:421;left:821"><nobr><span class="ft2"><b>…..</b></span></nobr></DIV>
<DIV style="position:absolute;top:423;left:983"><nobr><span class="ft11">zebra</span></nobr></DIV>
<DIV style="position:absolute;top:432;left:128"><nobr><span class="ft11">1357-3021</span></nobr></DIV>
<DIV style="position:absolute;top:423;left:443"><nobr><span class="ft11">artist</span></nobr></DIV>
<DIV style="position:absolute;top:465;left:398"><nobr><span class="ft39"><b>:</b><br><b>:</b></span></nobr></DIV>
<DIV style="position:absolute;top:465;left:544"><nobr><span class="ft39"><b>:</b><br><b>:</b></span></nobr></DIV>
<DIV style="position:absolute;top:465;left:690"><nobr><span class="ft39"><b>:</b><br><b>:</b></span></nobr></DIV>
<DIV style="position:absolute;top:465;left:835"><nobr><span class="ft39"><b>:</b><br><b>:</b></span></nobr></DIV>
<DIV style="position:absolute;top:576;left:335"><nobr><span class="ft11">apple art</span></nobr></DIV>
<DIV style="position:absolute;top:576;left:560"><nobr><span class="ft11">astronomy</span></nobr></DIV>
<DIV style="position:absolute;top:574;left:821"><nobr><span class="ft2"><b>…..</b></span></nobr></DIV>
<DIV style="position:absolute;top:576;left:983"><nobr><span class="ft11">zebra</span></nobr></DIV>
<DIV style="position:absolute;top:576;left:101"><nobr><span class="ft11">35637-37493</span></nobr></DIV>
<DIV style="position:absolute;top:576;left:470"><nobr><span class="ft11">artist</span></nobr></DIV>
<DIV style="position:absolute;top:576;left:272"><nobr><span class="ft11">ape</span></nobr></DIV>
<DIV style="position:absolute;top:681;left:623"><nobr><span class="ft37"><b>. . . .</b><br><b>. . . .</b><br><b>. . . .</b></span></nobr></DIV>
<DIV style="position:absolute;top:256;left:542"><nobr><span class="ft9"><b>128 MB Block</b></span></nobr></DIV>
<DIV style="position:absolute;top:382;left:542"><nobr><span class="ft9"><b>128 MB Block</b></span></nobr></DIV>
<DIV style="position:absolute;top:671;left:839"><nobr><span class="ft18"><b>Inverted File</b></span></nobr></DIV>
<DIV style="position:absolute;top:707;left:861"><nobr><span class="ft18"><b>(800 MB)</b></span></nobr></DIV>
</DIV>
<!-- Page 28 -->
<a name="28"></a>
<DIV style="position:relative;width:1188;height:918;">
<STYLE type="text/css">
<!--
-->
</STYLE>
<DIV style="position:absolute;top:803;left:902"><nobr><span class="ft3">© 2006, Jamie Callan</span></nobr></DIV>
<DIV style="position:absolute;top:812;left:507"><nobr><span class="ft4">28</span></nobr></DIV>
<DIV style="position:absolute;top:145;left:353"><nobr><span class="ft0"><b>Inverted File Management</b></span></nobr></DIV>
<DIV style="position:absolute;top:299;left:182"><nobr><span class="ft6"><b>Requirements:</b></span></nobr></DIV>
<DIV style="position:absolute;top:337;left:182"><nobr><span class="ft13">•</span></nobr></DIV>
<DIV style="position:absolute;top:342;left:216"><nobr><span class="ft7">Many inverted lists (e.g., half a million)</span></nobr></DIV>
<DIV style="position:absolute;top:380;left:182"><nobr><span class="ft13">•</span></nobr></DIV>
<DIV style="position:absolute;top:386;left:216"><nobr><span class="ft7">Very skewed size distribution (e.g., 16 bytes to several MB)</span></nobr></DIV>
<DIV style="position:absolute;top:424;left:182"><nobr><span class="ft13">•</span></nobr></DIV>
<DIV style="position:absolute;top:429;left:216"><nobr><span class="ft7">Need to provide fast I/O</span></nobr></DIV>
<DIV style="position:absolute;top:467;left:182"><nobr><span class="ft13">•</span></nobr></DIV>
<DIV style="position:absolute;top:472;left:216"><nobr><span class="ft7">Possibly need to support efficient updates</span></nobr></DIV>
<DIV style="position:absolute;top:516;left:236"><nobr><span class="ft7">– Or, possibly just rebuild the index periodically to update</span></nobr></DIV>
<DIV style="position:absolute;top:559;left:182"><nobr><span class="ft6"><b>Solution:</b></span></nobr></DIV>
<DIV style="position:absolute;top:597;left:182"><nobr><span class="ft13">•</span></nobr></DIV>
<DIV style="position:absolute;top:602;left:216"><nobr><span class="ft7">Index consists of two types of information:</span></nobr></DIV>
<DIV style="position:absolute;top:646;left:236"><nobr><span class="ft7">– Access mechanism(s), e.g., B-Tree, Hash table</span></nobr></DIV>
<DIV style="position:absolute;top:689;left:236"><nobr><span class="ft7">– Inverted lists</span></nobr></DIV>
<DIV style="position:absolute;top:727;left:182"><nobr><span class="ft13">•</span></nobr></DIV>
<DIV style="position:absolute;top:732;left:216"><nobr><span class="ft7">Different management techniques for each type of information</span></nobr></DIV>
</DIV>
<!-- Page 29 -->
<a name="29"></a>
<DIV style="position:relative;width:1188;height:918;">
<STYLE type="text/css">
<!--
	.ft40{font-size:13px;font-family:Times;color:#000000;}
-->
</STYLE>
<DIV style="position:absolute;top:803;left:902"><nobr><span class="ft3">© 2006, Jamie Callan</span></nobr></DIV>
<DIV style="position:absolute;top:812;left:507"><nobr><span class="ft4">29</span></nobr></DIV>
<DIV style="position:absolute;top:122;left:346"><nobr><span class="ft0"><b>Inverted File Management:</b></span></nobr></DIV>
<DIV style="position:absolute;top:168;left:377"><nobr><span class="ft0"><b>Static File (No Updates)</b></span></nobr></DIV>
<DIV style="position:absolute;top:501;left:218"><nobr><span class="ft5">•</span></nobr></DIV>
<DIV style="position:absolute;top:506;left:252"><nobr><span class="ft6"><b>Create files when inverted list fragments are merged</b></span></nobr></DIV>
<DIV style="position:absolute;top:544;left:218"><nobr><span class="ft5">•</span></nobr></DIV>
<DIV style="position:absolute;top:549;left:252"><nobr><span class="ft6"><b>Inverted lists are packed tightly together</b></span></nobr></DIV>
<DIV style="position:absolute;top:593;left:272"><nobr><span class="ft7">– One list follows another immediately</span></nobr></DIV>
<DIV style="position:absolute;top:631;left:218"><nobr><span class="ft5">•</span></nobr></DIV>
<DIV style="position:absolute;top:636;left:252"><nobr><span class="ft6"><b>Lists are stored in canonical order (e.g., alphabetic)</b></span></nobr></DIV>
<DIV style="position:absolute;top:674;left:218"><nobr><span class="ft5">•</span></nobr></DIV>
<DIV style="position:absolute;top:679;left:252"><nobr><span class="ft6"><b>Easy to create, very space efficient</b></span></nobr></DIV>
<DIV style="position:absolute;top:717;left:218"><nobr><span class="ft5">•</span></nobr></DIV>
<DIV style="position:absolute;top:723;left:252"><nobr><span class="ft6"><b>Very difficult to update; easier to rebuild</b></span></nobr></DIV>
<DIV style="position:absolute;top:766;left:272"><nobr><span class="ft7">– Update by merging fragments with file to create new file</span></nobr></DIV>
<DIV style="position:absolute;top:387;left:281"><nobr><span class="ft40"><b>. . .</b></span></nobr></DIV>
<DIV style="position:absolute;top:387;left:353"><nobr><span class="ft40"><b>. . .</b></span></nobr></DIV>
<DIV style="position:absolute;top:360;left:315"><nobr><span class="ft40"><b>. . .</b></span></nobr></DIV>
<DIV style="position:absolute;top:256;left:287"><nobr><span class="ft10"><b>Access</b></span></nobr></DIV>
<DIV style="position:absolute;top:288;left:254"><nobr><span class="ft10"><b>Information</b></span></nobr></DIV>
<DIV style="position:absolute;top:321;left:258"><nobr><span class="ft10"><b>(Small File)</b></span></nobr></DIV>
<DIV style="position:absolute;top:348;left:668"><nobr><span class="ft37"><b>. . . .</b><br><b>. . . .</b><br><b>. . . .</b></span></nobr></DIV>
<DIV style="position:absolute;top:256;left:586"><nobr><span class="ft10"><b>Inverted Lists</b></span></nobr></DIV>
<DIV style="position:absolute;top:288;left:598"><nobr><span class="ft10"><b>(Large File)</b></span></nobr></DIV>
</DIV>
<!-- Page 30 -->
<a name="30"></a>
<DIV style="position:relative;width:1188;height:918;">
<STYLE type="text/css">
<!--
-->
</STYLE>
<DIV style="position:absolute;top:803;left:902"><nobr><span class="ft3">© 2006, Jamie Callan</span></nobr></DIV>
<DIV style="position:absolute;top:812;left:507"><nobr><span class="ft4">30</span></nobr></DIV>
<DIV style="position:absolute;top:122;left:346"><nobr><span class="ft0"><b>Inverted File Management:</b></span></nobr></DIV>
<DIV style="position:absolute;top:168;left:306"><nobr><span class="ft0"><b>Supporting Updates (Version 1)</b></span></nobr></DIV>
<DIV style="position:absolute;top:470;left:218"><nobr><span class="ft1">Approach:</span></nobr></DIV>
<DIV style="position:absolute;top:508;left:218"><nobr><span class="ft13">•</span></nobr></DIV>
<DIV style="position:absolute;top:513;left:252"><nobr><span class="ft7">Append updated information to inverted list</span></nobr></DIV>
<DIV style="position:absolute;top:551;left:218"><nobr><span class="ft13">•</span></nobr></DIV>
<DIV style="position:absolute;top:557;left:252"><nobr><span class="ft7">Inverted list is now too long for original location in file</span></nobr></DIV>
<DIV style="position:absolute;top:595;left:218"><nobr><span class="ft13">•</span></nobr></DIV>
<DIV style="position:absolute;top:600;left:252"><nobr><span class="ft7">Move to new location (usually nearer to end of file)</span></nobr></DIV>
<DIV style="position:absolute;top:638;left:218"><nobr><span class="ft13">•</span></nobr></DIV>
<DIV style="position:absolute;top:643;left:252"><nobr><span class="ft21">Update access information (B-Tree, Hash table, etc) with new<br>location and length</span></nobr></DIV>
<DIV style="position:absolute;top:369;left:281"><nobr><span class="ft40"><b>. . .</b></span></nobr></DIV>
<DIV style="position:absolute;top:369;left:353"><nobr><span class="ft40"><b>. . .</b></span></nobr></DIV>
<DIV style="position:absolute;top:342;left:315"><nobr><span class="ft40"><b>. . .</b></span></nobr></DIV>
<DIV style="position:absolute;top:265;left:287"><nobr><span class="ft10"><b>Access</b></span></nobr></DIV>
<DIV style="position:absolute;top:297;left:254"><nobr><span class="ft10"><b>Information</b></span></nobr></DIV>
<DIV style="position:absolute;top:330;left:668"><nobr><span class="ft37"><b>. . . .</b><br><b>. . . .</b><br><b>. . . .</b></span></nobr></DIV>
<DIV style="position:absolute;top:265;left:586"><nobr><span class="ft10"><b>Inverted Lists</b></span></nobr></DIV>
</DIV>
<!-- Page 31 -->
<a name="31"></a>
<DIV style="position:relative;width:1188;height:918;">
<STYLE type="text/css">
<!--
-->
</STYLE>
<DIV style="position:absolute;top:803;left:902"><nobr><span class="ft3">© 2006, Jamie Callan</span></nobr></DIV>
<DIV style="position:absolute;top:812;left:507"><nobr><span class="ft4">31</span></nobr></DIV>
<DIV style="position:absolute;top:122;left:346"><nobr><span class="ft0"><b>Inverted File Management:</b></span></nobr></DIV>
<DIV style="position:absolute;top:168;left:306"><nobr><span class="ft0"><b>Supporting Updates (Version 1)</b></span></nobr></DIV>
<DIV style="position:absolute;top:497;left:218"><nobr><span class="ft1">Problem:</span></nobr></DIV>
<DIV style="position:absolute;top:535;left:218"><nobr><span class="ft13">•</span></nobr></DIV>
<DIV style="position:absolute;top:540;left:252"><nobr><span class="ft7">After awhile, there are a lot of “holes” of different sizes</span></nobr></DIV>
<DIV style="position:absolute;top:584;left:272"><nobr><span class="ft7">– Significant wasted space</span></nobr></DIV>
<DIV style="position:absolute;top:622;left:218"><nobr><span class="ft13">•</span></nobr></DIV>
<DIV style="position:absolute;top:627;left:252"><nobr><span class="ft7">Recycling holes takes a surprisingly large amount of time</span></nobr></DIV>
<DIV style="position:absolute;top:670;left:272"><nobr><span class="ft7">– Many holes to consider, many sizes</span></nobr></DIV>
<DIV style="position:absolute;top:708;left:218"><nobr><span class="ft13">•</span></nobr></DIV>
<DIV style="position:absolute;top:714;left:252"><nobr><span class="ft7">Garbage collecting the holes takes time</span></nobr></DIV>
<DIV style="position:absolute;top:369;left:279"><nobr><span class="ft40"><b>. . .</b></span></nobr></DIV>
<DIV style="position:absolute;top:369;left:351"><nobr><span class="ft40"><b>. . .</b></span></nobr></DIV>
<DIV style="position:absolute;top:342;left:313"><nobr><span class="ft40"><b>. . .</b></span></nobr></DIV>
<DIV style="position:absolute;top:265;left:286"><nobr><span class="ft10"><b>Access</b></span></nobr></DIV>
<DIV style="position:absolute;top:297;left:254"><nobr><span class="ft10"><b>Information</b></span></nobr></DIV>
<DIV style="position:absolute;top:330;left:666"><nobr><span class="ft37"><b>. . . .</b><br><b>. . . .</b><br><b>. . . .</b></span></nobr></DIV>
<DIV style="position:absolute;top:265;left:585"><nobr><span class="ft10"><b>Inverted Lists</b></span></nobr></DIV>
<DIV style="position:absolute;top:481;left:706"><nobr><span class="ft8"><b>Unused space (“hole”)</b></span></nobr></DIV>
</DIV>
<!-- Page 32 -->
<a name="32"></a>
<DIV style="position:relative;width:1188;height:918;">
<STYLE type="text/css">
<!--
-->
</STYLE>
<DIV style="position:absolute;top:803;left:902"><nobr><span class="ft3">© 2006, Jamie Callan</span></nobr></DIV>
<DIV style="position:absolute;top:812;left:507"><nobr><span class="ft4">32</span></nobr></DIV>
<DIV style="position:absolute;top:122;left:346"><nobr><span class="ft0"><b>Inverted File Management:</b></span></nobr></DIV>
<DIV style="position:absolute;top:168;left:306"><nobr><span class="ft0"><b>Supporting Updates (Version 2)</b></span></nobr></DIV>
<DIV style="position:absolute;top:365;left:191"><nobr><span class="ft40"><b>. . .</b></span></nobr></DIV>
<DIV style="position:absolute;top:365;left:263"><nobr><span class="ft40"><b>. . .</b></span></nobr></DIV>
<DIV style="position:absolute;top:338;left:225"><nobr><span class="ft40"><b>. . .</b></span></nobr></DIV>
<DIV style="position:absolute;top:256;left:196"><nobr><span class="ft10"><b>Access</b></span></nobr></DIV>
<DIV style="position:absolute;top:288;left:164"><nobr><span class="ft10"><b>Information</b></span></nobr></DIV>
<DIV style="position:absolute;top:256;left:586"><nobr><span class="ft10"><b>Inverted Lists</b></span></nobr></DIV>
<DIV style="position:absolute;top:260;left:382"><nobr><span class="ft10"><b>Hole</b></span></nobr></DIV>
<DIV style="position:absolute;top:292;left:376"><nobr><span class="ft10"><b>Table</b></span></nobr></DIV>
<DIV style="position:absolute;top:360;left:406"><nobr><span class="ft36"><b>:</b></span></nobr></DIV>
<DIV style="position:absolute;top:326;left:668"><nobr><span class="ft37"><b>. . . .</b><br><b>. . . .</b><br><b>. . . .</b></span></nobr></DIV>
<DIV style="position:absolute;top:492;left:164"><nobr><span class="ft5">•</span></nobr></DIV>
<DIV style="position:absolute;top:497;left:198"><nobr><span class="ft6"><b>“Round up” each inverted list length to the next power of 2</b></span></nobr></DIV>
<DIV style="position:absolute;top:540;left:218"><nobr><span class="ft7">– 16 bytes, 32 bytes, 64 bytes, 128 bytes, 256 bytes, ….</span></nobr></DIV>
<DIV style="position:absolute;top:578;left:164"><nobr><span class="ft5">•</span></nobr></DIV>
<DIV style="position:absolute;top:584;left:198"><nobr><span class="ft6"><b>Only a small number of hole sizes (e.g., 30)</b></span></nobr></DIV>
<DIV style="position:absolute;top:627;left:218"><nobr><span class="ft7">– For each hole size, maintain a linked list of available holes</span></nobr></DIV>
<DIV style="position:absolute;top:670;left:218"><nobr><span class="ft7">– Recycling holes is much easier (direct lookup, pop from list)</span></nobr></DIV>
</DIV>
<!-- Page 33 -->
<a name="33"></a>
<DIV style="position:relative;width:1188;height:918;">
<STYLE type="text/css">
<!--
	.ft41{font-size:22px;font-family:Times;color:#000000;}
-->
</STYLE>
<DIV style="position:absolute;top:803;left:902"><nobr><span class="ft3">© 2006, Jamie Callan</span></nobr></DIV>
<DIV style="position:absolute;top:812;left:507"><nobr><span class="ft4">33</span></nobr></DIV>
<DIV style="position:absolute;top:122;left:346"><nobr><span class="ft0"><b>Inverted File Management:</b></span></nobr></DIV>
<DIV style="position:absolute;top:168;left:306"><nobr><span class="ft0"><b>Supporting Updates (Version 2)</b></span></nobr></DIV>
<DIV style="position:absolute;top:294;left:182"><nobr><span class="ft5">•</span></nobr></DIV>
<DIV style="position:absolute;top:299;left:216"><nobr><span class="ft6"><b>On average, each list has about 25% free space at end</b></span></nobr></DIV>
<DIV style="position:absolute;top:337;left:182"><nobr><span class="ft5">•</span></nobr></DIV>
<DIV style="position:absolute;top:342;left:216"><nobr><span class="ft6"><b>Some inverted list updates can be done “in place”</b></span></nobr></DIV>
<DIV style="position:absolute;top:386;left:236"><nobr><span class="ft7">– Small update:  Write new information into space at end of list</span></nobr></DIV>
<DIV style="position:absolute;top:424;left:182"><nobr><span class="ft5">•</span></nobr></DIV>
<DIV style="position:absolute;top:429;left:216"><nobr><span class="ft6"><b>Moving list to a new location is much easier</b></span></nobr></DIV>
<DIV style="position:absolute;top:472;left:236"><nobr><span class="ft7">– Need a hole of size 2n?  Pop it off the appropriate linked list</span></nobr></DIV>
<DIV style="position:absolute;top:516;left:236"><nobr><span class="ft7">– If no hole is available, create new space at the end of the file</span></nobr></DIV>
<DIV style="position:absolute;top:553;left:182"><nobr><span class="ft5">•</span></nobr></DIV>
<DIV style="position:absolute;top:559;left:216"><nobr><span class="ft6"><b>Trading space for speed</b></span></nobr></DIV>
<DIV style="position:absolute;top:602;left:236"><nobr><span class="ft7">– This approach does waste space</span></nobr></DIV>
<DIV style="position:absolute;top:646;left:236"><nobr><span class="ft7">– But, the amount of wasted space is predictable (about 25%)</span></nobr></DIV>
</DIV>
<!-- Page 34 -->
<a name="34"></a>
<DIV style="position:relative;width:1188;height:918;">
<STYLE type="text/css">
<!--
-->
</STYLE>
<DIV style="position:absolute;top:803;left:902"><nobr><span class="ft3">© 2006, Jamie Callan</span></nobr></DIV>
<DIV style="position:absolute;top:812;left:507"><nobr><span class="ft4">34</span></nobr></DIV>
<DIV style="position:absolute;top:122;left:516"><nobr><span class="ft0"><b>Indexes:</b></span></nobr></DIV>
<DIV style="position:absolute;top:168;left:441"><nobr><span class="ft0"><b>Building Indexes</b></span></nobr></DIV>
<DIV style="position:absolute;top:296;left:182"><nobr><span class="ft6"><b>Indexes are expensive to update; Usually done in batches</b></span></nobr></DIV>
<DIV style="position:absolute;top:330;left:182"><nobr><span class="ft5">•</span></nobr></DIV>
<DIV style="position:absolute;top:336;left:216"><nobr><span class="ft6"><b>Typical build/update procedure:</b></span></nobr></DIV>
<DIV style="position:absolute;top:376;left:236"><nobr><span class="ft16">– One or more documents arrive to be added / updated<br>– Documents parsed to generate index modifications<br>– Each inverted list updated for <i>all </i>documents in the batch</span></nobr></DIV>
<DIV style="position:absolute;top:489;left:182"><nobr><span class="ft5">•</span></nobr></DIV>
<DIV style="position:absolute;top:495;left:216"><nobr><span class="ft6"><b>Concurrency control required</b></span></nobr></DIV>
<DIV style="position:absolute;top:534;left:236"><nobr><span class="ft16">– To synchronize changes to documents and index<br>– To prevent readers &amp; writers from colliding</span></nobr></DIV>
<DIV style="position:absolute;top:609;left:182"><nobr><span class="ft5">•</span></nobr></DIV>
<DIV style="position:absolute;top:614;left:216"><nobr><span class="ft6"><b>Common to split index into static / dynamic components</b></span></nobr></DIV>
<DIV style="position:absolute;top:654;left:236"><nobr><span class="ft16">– All updates to dynamic components<br>– Search both static and dynamic component<br>– Periodically merge dynamic into static</span></nobr></DIV>
</DIV>
<!-- Page 35 -->
<a name="35"></a>
<DIV style="position:relative;width:1188;height:918;">
<STYLE type="text/css">
<!--
-->
</STYLE>
<DIV style="position:absolute;top:803;left:902"><nobr><span class="ft3">© 2006, Jamie Callan</span></nobr></DIV>
<DIV style="position:absolute;top:812;left:507"><nobr><span class="ft4">35</span></nobr></DIV>
<DIV style="position:absolute;top:122;left:393"><nobr><span class="ft0"><b>Inverted List Indexes:</b></span></nobr></DIV>
<DIV style="position:absolute;top:168;left:474"><nobr><span class="ft0"><b>Compression</b></span></nobr></DIV>
<DIV style="position:absolute;top:299;left:182"><nobr><span class="ft6"><b>Inverted lists are usually compressed</b></span></nobr></DIV>
<DIV style="position:absolute;top:337;left:182"><nobr><span class="ft5">•</span></nobr></DIV>
<DIV style="position:absolute;top:342;left:216"><nobr><span class="ft6"><b>Inverted files with word locations are about the size of the raw data</b></span></nobr></DIV>
<DIV style="position:absolute;top:380;left:182"><nobr><span class="ft5">•</span></nobr></DIV>
<DIV style="position:absolute;top:386;left:216"><nobr><span class="ft6"><b>Distribution of numbers is skewed</b></span></nobr></DIV>
<DIV style="position:absolute;top:429;left:236"><nobr><span class="ft7">– Most numbers are small (e.g., word locations, term frequency)</span></nobr></DIV>
<DIV style="position:absolute;top:467;left:182"><nobr><span class="ft5">•</span></nobr></DIV>
<DIV style="position:absolute;top:472;left:216"><nobr><span class="ft6"><b>Distribution easily can be made more skewed</b></span></nobr></DIV>
<DIV style="position:absolute;top:516;left:236"><nobr><span class="ft7">– Delta encoding:  5, 8, 10, 17  --&gt;  5, 3, 2, 7</span></nobr></DIV>
<DIV style="position:absolute;top:553;left:182"><nobr><span class="ft5">•</span></nobr></DIV>
<DIV style="position:absolute;top:559;left:216"><nobr><span class="ft6"><b>Simple compression techniques are often the best choice</b></span></nobr></DIV>
<DIV style="position:absolute;top:602;left:236"><nobr><span class="ft7">– Simple algorithms nearly as effective as complex algorithms</span></nobr></DIV>
<DIV style="position:absolute;top:646;left:236"><nobr><span class="ft7">– Simple algorithms much faster than complex algorithms</span></nobr></DIV>
<DIV style="position:absolute;top:689;left:236"><nobr><span class="ft7">– Goal:  Time saved by reduced I/O &gt; Time required to uncompress</span></nobr></DIV>
</DIV>
<!-- Page 36 -->
<a name="36"></a>
<DIV style="position:relative;width:1188;height:918;">
<STYLE type="text/css">
<!--
-->
</STYLE>
<DIV style="position:absolute;top:803;left:902"><nobr><span class="ft3">© 2006, Jamie Callan</span></nobr></DIV>
<DIV style="position:absolute;top:812;left:507"><nobr><span class="ft4">36</span></nobr></DIV>
<DIV style="position:absolute;top:122;left:393"><nobr><span class="ft0"><b>Inverted List Indexes:</b></span></nobr></DIV>
<DIV style="position:absolute;top:168;left:474"><nobr><span class="ft0"><b>Compression</b></span></nobr></DIV>
<DIV style="position:absolute;top:294;left:182"><nobr><span class="ft5">•</span></nobr></DIV>
<DIV style="position:absolute;top:299;left:216"><nobr><span class="ft26"><b>The longest lists, which take up the most space, have the most</b><br><b>frequent (probable) words.</b></span></nobr></DIV>
<DIV style="position:absolute;top:369;left:182"><nobr><span class="ft5">•</span></nobr></DIV>
<DIV style="position:absolute;top:375;left:216"><nobr><span class="ft6"><b>Compressing the longest lists saves the most space.</b></span></nobr></DIV>
<DIV style="position:absolute;top:413;left:182"><nobr><span class="ft5">•</span></nobr></DIV>
<DIV style="position:absolute;top:418;left:216"><nobr><span class="ft26"><b>The longest lists compress easily because they contain the</b><br><b>least information.</b></span></nobr></DIV>
<DIV style="position:absolute;top:488;left:182"><nobr><span class="ft5">•</span></nobr></DIV>
<DIV style="position:absolute;top:494;left:216"><nobr><span class="ft6"><b>Algorithms:</b></span></nobr></DIV>
<DIV style="position:absolute;top:537;left:236"><nobr><span class="ft7">– Delta encoding</span></nobr></DIV>
<DIV style="position:absolute;top:580;left:236"><nobr><span class="ft7">– Variable-length encoding</span></nobr></DIV>
<DIV style="position:absolute;top:624;left:236"><nobr><span class="ft7">– Unary codes</span></nobr></DIV>
<DIV style="position:absolute;top:667;left:236"><nobr><span class="ft7">– Gamma codes</span></nobr></DIV>
<DIV style="position:absolute;top:710;left:236"><nobr><span class="ft7">– Delta codes</span></nobr></DIV>
</DIV>
<!-- Page 37 -->
<a name="37"></a>
<DIV style="position:relative;width:1188;height:918;">
<STYLE type="text/css">
<!--
	.ft42{font-size:28px;font-family:Helvetica;color:#000000;}
	.ft43{font-size:27px;font-family:Times;color:#3333cc;}
	.ft44{font-size:27px;line-height:28px;font-family:Times;color:#3333cc;}
-->
</STYLE>
<DIV style="position:absolute;top:803;left:902"><nobr><span class="ft3">© 2006, Jamie Callan</span></nobr></DIV>
<DIV style="position:absolute;top:812;left:507"><nobr><span class="ft4">37</span></nobr></DIV>
<DIV style="position:absolute;top:122;left:393"><nobr><span class="ft0"><b>Inverted List Indexes:</b></span></nobr></DIV>
<DIV style="position:absolute;top:168;left:474"><nobr><span class="ft0"><b>Compression</b></span></nobr></DIV>
<DIV style="position:absolute;top:260;left:182"><nobr><span class="ft6"><b>Delta Encoding</b></span></nobr></DIV>
<DIV style="position:absolute;top:289;left:216"><nobr><span class="ft6"><b>(&quot;Storing Gaps&quot;)</b></span></nobr></DIV>
<DIV style="position:absolute;top:323;left:182"><nobr><span class="ft5">•</span></nobr></DIV>
<DIV style="position:absolute;top:329;left:216"><nobr><span class="ft44"><b>Store the differences</b><br><b>between numbers</b></span></nobr></DIV>
<DIV style="position:absolute;top:392;left:182"><nobr><span class="ft5">•</span></nobr></DIV>
<DIV style="position:absolute;top:397;left:216"><nobr><span class="ft44"><b>Reduces range of</b><br><b>numbers.</b></span></nobr></DIV>
<DIV style="position:absolute;top:461;left:182"><nobr><span class="ft5">•</span></nobr></DIV>
<DIV style="position:absolute;top:466;left:216"><nobr><span class="ft44"><b>Produces a more</b><br><b>skewed distribution.</b></span></nobr></DIV>
<DIV style="position:absolute;top:529;left:182"><nobr><span class="ft5">•</span></nobr></DIV>
<DIV style="position:absolute;top:534;left:216"><nobr><span class="ft44"><b>Increases probability</b><br><b>of smaller numbers.</b></span></nobr></DIV>
<DIV style="position:absolute;top:598;left:182"><nobr><span class="ft5">•</span></nobr></DIV>
<DIV style="position:absolute;top:603;left:216"><nobr><span class="ft44"><b>(Stemming also</b><br><b>increases the</b><br><b>probability of smaller</b><br><b>numbers.)</b></span></nobr></DIV>
<DIV style="position:absolute;top:305;left:573"><nobr><span class="ft42">Doc ID</span></nobr></DIV>
<DIV style="position:absolute;top:305;left:696"><nobr><span class="ft42">121</span></nobr></DIV>
<DIV style="position:absolute;top:343;left:573"><nobr><span class="ft42">TF</span></nobr></DIV>
<DIV style="position:absolute;top:343;left:730"><nobr><span class="ft42">3</span></nobr></DIV>
<DIV style="position:absolute;top:381;left:573"><nobr><span class="ft42">Loc</span></nobr></DIV>
<DIV style="position:absolute;top:381;left:713"><nobr><span class="ft42">18</span></nobr></DIV>
<DIV style="position:absolute;top:420;left:573"><nobr><span class="ft42">Loc</span></nobr></DIV>
<DIV style="position:absolute;top:420;left:713"><nobr><span class="ft42">47</span></nobr></DIV>
<DIV style="position:absolute;top:458;left:573"><nobr><span class="ft42">Loc</span></nobr></DIV>
<DIV style="position:absolute;top:458;left:713"><nobr><span class="ft42">68</span></nobr></DIV>
<DIV style="position:absolute;top:496;left:573"><nobr><span class="ft42">DocID</span></nobr></DIV>
<DIV style="position:absolute;top:496;left:696"><nobr><span class="ft42">135</span></nobr></DIV>
<DIV style="position:absolute;top:534;left:573"><nobr><span class="ft42">TF</span></nobr></DIV>
<DIV style="position:absolute;top:534;left:730"><nobr><span class="ft42">2</span></nobr></DIV>
<DIV style="position:absolute;top:573;left:573"><nobr><span class="ft42">Loc</span></nobr></DIV>
<DIV style="position:absolute;top:573;left:713"><nobr><span class="ft42">22</span></nobr></DIV>
<DIV style="position:absolute;top:611;left:573"><nobr><span class="ft42">Loc</span></nobr></DIV>
<DIV style="position:absolute;top:611;left:713"><nobr><span class="ft42">35</span></nobr></DIV>
<DIV style="position:absolute;top:305;left:816"><nobr><span class="ft42">Doc ID</span></nobr></DIV>
<DIV style="position:absolute;top:305;left:939"><nobr><span class="ft42">121</span></nobr></DIV>
<DIV style="position:absolute;top:343;left:816"><nobr><span class="ft42">TF</span></nobr></DIV>
<DIV style="position:absolute;top:343;left:973"><nobr><span class="ft42">3</span></nobr></DIV>
<DIV style="position:absolute;top:381;left:816"><nobr><span class="ft42">Loc</span></nobr></DIV>
<DIV style="position:absolute;top:381;left:956"><nobr><span class="ft42">18</span></nobr></DIV>
<DIV style="position:absolute;top:420;left:816"><nobr><span class="ft42">Loc</span></nobr></DIV>
<DIV style="position:absolute;top:420;left:956"><nobr><span class="ft42">29</span></nobr></DIV>
<DIV style="position:absolute;top:458;left:816"><nobr><span class="ft42">Loc</span></nobr></DIV>
<DIV style="position:absolute;top:458;left:956"><nobr><span class="ft42">21</span></nobr></DIV>
<DIV style="position:absolute;top:496;left:816"><nobr><span class="ft42">DocID</span></nobr></DIV>
<DIV style="position:absolute;top:496;left:956"><nobr><span class="ft42">14</span></nobr></DIV>
<DIV style="position:absolute;top:534;left:816"><nobr><span class="ft42">TF</span></nobr></DIV>
<DIV style="position:absolute;top:534;left:973"><nobr><span class="ft42">2</span></nobr></DIV>
<DIV style="position:absolute;top:573;left:816"><nobr><span class="ft42">Loc</span></nobr></DIV>
<DIV style="position:absolute;top:573;left:956"><nobr><span class="ft42">22</span></nobr></DIV>
<DIV style="position:absolute;top:611;left:816"><nobr><span class="ft42">Loc</span></nobr></DIV>
<DIV style="position:absolute;top:611;left:956"><nobr><span class="ft42">13</span></nobr></DIV>
<DIV style="position:absolute;top:258;left:603"><nobr><span class="ft43"><b>Before</b></span></nobr></DIV>
<DIV style="position:absolute;top:258;left:866"><nobr><span class="ft43"><b>After</b></span></nobr></DIV>
</DIV>
<!-- Page 38 -->
<a name="38"></a>
<DIV style="position:relative;width:1188;height:918;">
<STYLE type="text/css">
<!--
	.ft45{font-size:17px;font-family:Times;color:#3333cc;}
-->
</STYLE>
<DIV style="position:absolute;top:803;left:902"><nobr><span class="ft3">© 2006, Jamie Callan</span></nobr></DIV>
<DIV style="position:absolute;top:812;left:507"><nobr><span class="ft4">38</span></nobr></DIV>
<DIV style="position:absolute;top:122;left:278"><nobr><span class="ft0"><b>Restricted Variable-Length Codes:</b></span></nobr></DIV>
<DIV style="position:absolute;top:168;left:295"><nobr><span class="ft0"><b>Generalization for Numeric Data</b></span></nobr></DIV>
<DIV style="position:absolute;top:291;left:182"><nobr><span class="ft5">•</span></nobr></DIV>
<DIV style="position:absolute;top:296;left:216"><nobr><span class="ft6"><b>Store first 2</b></span></nobr></DIV>
<DIV style="position:absolute;top:294;left:367"><nobr><span class="ft45"><b>7</b></span></nobr></DIV>
<DIV style="position:absolute;top:296;left:407"><nobr><span class="ft6"><b>numbers in 7 bits:     1xxxxxxx</b></span></nobr></DIV>
<DIV style="position:absolute;top:330;left:182"><nobr><span class="ft5">•</span></nobr></DIV>
<DIV style="position:absolute;top:336;left:216"><nobr><span class="ft6"><b>Store next 2</b></span></nobr></DIV>
<DIV style="position:absolute;top:334;left:369"><nobr><span class="ft45"><b>14</b></span></nobr></DIV>
<DIV style="position:absolute;top:336;left:403"><nobr><span class="ft6"><b>numbers in 14 bits:   0xxxxxxx1xxxxxxx</b></span></nobr></DIV>
<DIV style="position:absolute;top:370;left:182"><nobr><span class="ft5">•</span></nobr></DIV>
<DIV style="position:absolute;top:376;left:216"><nobr><span class="ft6"><b>Store next  2</b></span></nobr></DIV>
<DIV style="position:absolute;top:374;left:376"><nobr><span class="ft45"><b>21</b></span></nobr></DIV>
<DIV style="position:absolute;top:376;left:403"><nobr><span class="ft6"><b>numbers in 21 bits:   0xxxxxxx0xxxxxxx1xxxxxxx</b></span></nobr></DIV>
<DIV style="position:absolute;top:410;left:182"><nobr><span class="ft5">•</span></nobr></DIV>
<DIV style="position:absolute;top:415;left:216"><nobr><span class="ft6"><b>And so on….</b></span></nobr></DIV>
<DIV style="position:absolute;top:450;left:182"><nobr><span class="ft5">•</span></nobr></DIV>
<DIV style="position:absolute;top:455;left:216"><nobr><span class="ft6"><b>Often used on inverted lists, after delta encoding integer data</b></span></nobr></DIV>
<DIV style="position:absolute;top:495;left:236"><nobr><span class="ft16">– Many numbers fit in one byte<br>– It is rare to exceed two bytes (16,511)</span></nobr></DIV>
<DIV style="position:absolute;top:569;left:182"><nobr><span class="ft5">•</span></nobr></DIV>
<DIV style="position:absolute;top:574;left:216"><nobr><span class="ft6"><b>Advantages:</b></span></nobr></DIV>
<DIV style="position:absolute;top:614;left:236"><nobr><span class="ft16">– Effective, non-parametric<br>– Encoding and decoding can be done very efficiently<br>– Easy to find number boundaries without decoding<br>– Integer encoding is Endian-independent</span></nobr></DIV>
</DIV>
<!-- Page 39 -->
<a name="39"></a>
<DIV style="position:relative;width:1188;height:918;">
<STYLE type="text/css">
<!--
-->
</STYLE>
<DIV style="position:absolute;top:803;left:902"><nobr><span class="ft3">© 2006, Jamie Callan</span></nobr></DIV>
<DIV style="position:absolute;top:812;left:507"><nobr><span class="ft4">39</span></nobr></DIV>
<DIV style="position:absolute;top:122;left:344"><nobr><span class="ft0"><b>Inverted List Compression:</b></span></nobr></DIV>
<DIV style="position:absolute;top:168;left:483"><nobr><span class="ft0"><b>Unary Code</b></span></nobr></DIV>
<DIV style="position:absolute;top:294;left:182"><nobr><span class="ft5">•</span></nobr></DIV>
<DIV style="position:absolute;top:299;left:216"><nobr><span class="ft6"><b>Represent a number n &gt;= 0 as n 1 bits and a terminating 0.</b></span></nobr></DIV>
<DIV style="position:absolute;top:337;left:182"><nobr><span class="ft5">•</span></nobr></DIV>
<DIV style="position:absolute;top:342;left:216"><nobr><span class="ft6"><b>Great for small numbers.</b></span></nobr></DIV>
<DIV style="position:absolute;top:380;left:182"><nobr><span class="ft5">•</span></nobr></DIV>
<DIV style="position:absolute;top:386;left:216"><nobr><span class="ft6"><b>Terrible for large numbers.</b></span></nobr></DIV>
</DIV>
<!-- Page 40 -->
<a name="40"></a>
<DIV style="position:relative;width:1188;height:918;">
<STYLE type="text/css">
<!--
-->
</STYLE>
<DIV style="position:absolute;top:803;left:902"><nobr><span class="ft3">© 2006, Jamie Callan</span></nobr></DIV>
<DIV style="position:absolute;top:812;left:507"><nobr><span class="ft4">40</span></nobr></DIV>
<DIV style="position:absolute;top:122;left:344"><nobr><span class="ft0"><b>Inverted List Compression:</b></span></nobr></DIV>
<DIV style="position:absolute;top:168;left:467"><nobr><span class="ft0"><b>Gamma Code</b></span></nobr></DIV>
<DIV style="position:absolute;top:296;left:182"><nobr><span class="ft6"><b>A combination of unary and binary codes</b></span></nobr></DIV>
<DIV style="position:absolute;top:330;left:182"><nobr><span class="ft5">•</span></nobr></DIV>
<DIV style="position:absolute;top:336;left:216"><nobr><span class="ft44"><b>The unary code stores the number of bits needed to represent</b><br><b>n in binary.</b></span></nobr></DIV>
<DIV style="position:absolute;top:399;left:182"><nobr><span class="ft5">•</span></nobr></DIV>
<DIV style="position:absolute;top:404;left:216"><nobr><span class="ft44"><b>The binary code stores the information necessary to</b><br><b>reconstruct n.</b></span></nobr></DIV>
<DIV style="position:absolute;top:468;left:182"><nobr><span class="ft5">•</span></nobr></DIV>
<DIV style="position:absolute;top:473;left:216"><nobr><span class="ft6"><b>Unary code stores 1 + floor (log n)</b></span></nobr></DIV>
<DIV style="position:absolute;top:507;left:182"><nobr><span class="ft5">•</span></nobr></DIV>
<DIV style="position:absolute;top:513;left:216"><nobr><span class="ft6"><b>Binary code stores n - 2^(floor (log n))</b></span></nobr></DIV>
<DIV style="position:absolute;top:547;left:182"><nobr><span class="ft5">•</span></nobr></DIV>
<DIV style="position:absolute;top:552;left:216"><nobr><span class="ft6"><b>Example:  n = 9</b></span></nobr></DIV>
<DIV style="position:absolute;top:592;left:236"><nobr><span class="ft16">– floor (log 9) = 3, so unary code is 1110.<br>– 9-8=1, so binary code is 001.<br>– The complete encoded form is 1110001 (7 bits).</span></nobr></DIV>
<DIV style="position:absolute;top:706;left:182"><nobr><span class="ft5">•</span></nobr></DIV>
<DIV style="position:absolute;top:712;left:216"><nobr><span class="ft6"><b>This method is superior to a binary encoding</b></span></nobr></DIV>
</DIV>
<!-- Page 41 -->
<a name="41"></a>
<DIV style="position:relative;width:1188;height:918;">
<STYLE type="text/css">
<!--
	.ft46{font-size:40px;font-family:Times;color:#000000;}
-->
</STYLE>
<DIV style="position:absolute;top:803;left:902"><nobr><span class="ft3">© 2006, Jamie Callan</span></nobr></DIV>
<DIV style="position:absolute;top:812;left:507"><nobr><span class="ft4">41</span></nobr></DIV>
<DIV style="position:absolute;top:122;left:344"><nobr><span class="ft0"><b>Inverted List Compression:</b></span></nobr></DIV>
<DIV style="position:absolute;top:168;left:296"><nobr><span class="ft0"><b>Delta Code (Not Delta Encoding)</b></span></nobr></DIV>
<DIV style="position:absolute;top:299;left:182"><nobr><span class="ft6"><b>A generalization of the Gamma code</b></span></nobr></DIV>
<DIV style="position:absolute;top:337;left:182"><nobr><span class="ft5">•</span></nobr></DIV>
<DIV style="position:absolute;top:342;left:216"><nobr><span class="ft26"><b>Encode the length portion of a Gamma code in a Gamma</b><br><b>code.</b></span></nobr></DIV>
<DIV style="position:absolute;top:413;left:182"><nobr><span class="ft5">•</span></nobr></DIV>
<DIV style="position:absolute;top:418;left:216"><nobr><span class="ft6"><b>Gamma codes are better for small numbers.</b></span></nobr></DIV>
<DIV style="position:absolute;top:456;left:182"><nobr><span class="ft5">•</span></nobr></DIV>
<DIV style="position:absolute;top:461;left:216"><nobr><span class="ft6"><b>Delta codes are better for large numbers.</b></span></nobr></DIV>
<DIV style="position:absolute;top:499;left:182"><nobr><span class="ft5">•</span></nobr></DIV>
<DIV style="position:absolute;top:505;left:216"><nobr><span class="ft6"><b>Example:</b></span></nobr></DIV>
<DIV style="position:absolute;top:548;left:236"><nobr><span class="ft7">– For gamma codes, number of bits is</span></nobr></DIV>
<DIV style="position:absolute;top:592;left:290"><nobr><span class="ft7">1 + 2 * </span></nobr></DIV>
<DIV style="position:absolute;top:582;left:382"><nobr><span class="ft14">⎣log n⎦</span></nobr></DIV>
<DIV style="position:absolute;top:635;left:236"><nobr><span class="ft7">– For delta codes, number of bits is</span></nobr></DIV>
<DIV style="position:absolute;top:683;left:290"><nobr><span class="ft14">⎣log n⎦ + 1 + 2 * ⎣log </span></nobr></DIV>
<DIV style="position:absolute;top:685;left:554"><nobr><span class="ft46">(</span></nobr></DIV>
<DIV style="position:absolute;top:693;left:569"><nobr><span class="ft7">1 + </span></nobr></DIV>
<DIV style="position:absolute;top:683;left:615"><nobr><span class="ft14">⎣log n⎦</span></nobr></DIV>
<DIV style="position:absolute;top:685;left:707"><nobr><span class="ft46">)</span></nobr></DIV>
<DIV style="position:absolute;top:683;left:721"><nobr><span class="ft14">⎦</span></nobr></DIV>
</DIV>
<!-- Page 42 -->
<a name="42"></a>
<DIV style="position:relative;width:1188;height:918;">
<STYLE type="text/css">
<!--
	.ft47{font-size:28px;font-family:Times;color:#000000;}
	.ft48{font-size:28px;font-family:Times;color:#000000;}
-->
</STYLE>
<DIV style="position:absolute;top:803;left:902"><nobr><span class="ft3">© 2006, Jamie Callan</span></nobr></DIV>
<DIV style="position:absolute;top:812;left:507"><nobr><span class="ft4">42</span></nobr></DIV>
<DIV style="position:absolute;top:122;left:346"><nobr><span class="ft0"><b>Inverted File Compression:</b></span></nobr></DIV>
<DIV style="position:absolute;top:168;left:481"><nobr><span class="ft0"><b>Comparison</b></span></nobr></DIV>
<DIV style="position:absolute;top:267;left:289"><nobr><span class="ft47"><b>Bits Per Number</b></span></nobr></DIV>
<DIV style="position:absolute;top:306;left:144"><nobr><span class="ft47"><b>Number RVL Gamma</b></span></nobr></DIV>
<DIV style="position:absolute;top:306;left:486"><nobr><span class="ft47"><b>Delta</b></span></nobr></DIV>
<DIV style="position:absolute;top:344;left:236"><nobr><span class="ft48">1</span></nobr></DIV>
<DIV style="position:absolute;top:344;left:291"><nobr><span class="ft48">8</span></nobr></DIV>
<DIV style="position:absolute;top:344;left:399"><nobr><span class="ft48">1</span></nobr></DIV>
<DIV style="position:absolute;top:344;left:512"><nobr><span class="ft48">1</span></nobr></DIV>
<DIV style="position:absolute;top:383;left:236"><nobr><span class="ft48">2</span></nobr></DIV>
<DIV style="position:absolute;top:383;left:291"><nobr><span class="ft48">8</span></nobr></DIV>
<DIV style="position:absolute;top:383;left:399"><nobr><span class="ft48">3</span></nobr></DIV>
<DIV style="position:absolute;top:383;left:512"><nobr><span class="ft48">4</span></nobr></DIV>
<DIV style="position:absolute;top:423;left:236"><nobr><span class="ft48">4</span></nobr></DIV>
<DIV style="position:absolute;top:423;left:291"><nobr><span class="ft48">8</span></nobr></DIV>
<DIV style="position:absolute;top:423;left:399"><nobr><span class="ft48">5</span></nobr></DIV>
<DIV style="position:absolute;top:423;left:512"><nobr><span class="ft48">5</span></nobr></DIV>
<DIV style="position:absolute;top:462;left:236"><nobr><span class="ft48">8</span></nobr></DIV>
<DIV style="position:absolute;top:462;left:291"><nobr><span class="ft48">8</span></nobr></DIV>
<DIV style="position:absolute;top:462;left:399"><nobr><span class="ft48">7</span></nobr></DIV>
<DIV style="position:absolute;top:462;left:512"><nobr><span class="ft48">8</span></nobr></DIV>
<DIV style="position:absolute;top:501;left:220"><nobr><span class="ft48">16</span></nobr></DIV>
<DIV style="position:absolute;top:501;left:291"><nobr><span class="ft48">8</span></nobr></DIV>
<DIV style="position:absolute;top:501;left:399"><nobr><span class="ft48">9</span></nobr></DIV>
<DIV style="position:absolute;top:501;left:512"><nobr><span class="ft48">9</span></nobr></DIV>
<DIV style="position:absolute;top:540;left:220"><nobr><span class="ft48">32</span></nobr></DIV>
<DIV style="position:absolute;top:540;left:291"><nobr><span class="ft48">8</span></nobr></DIV>
<DIV style="position:absolute;top:540;left:392"><nobr><span class="ft48">11</span></nobr></DIV>
<DIV style="position:absolute;top:540;left:504"><nobr><span class="ft48">10</span></nobr></DIV>
<DIV style="position:absolute;top:579;left:220"><nobr><span class="ft48">64</span></nobr></DIV>
<DIV style="position:absolute;top:579;left:291"><nobr><span class="ft48">8</span></nobr></DIV>
<DIV style="position:absolute;top:579;left:392"><nobr><span class="ft48">13</span></nobr></DIV>
<DIV style="position:absolute;top:579;left:504"><nobr><span class="ft48">11</span></nobr></DIV>
<DIV style="position:absolute;top:618;left:205"><nobr><span class="ft48">128</span></nobr></DIV>
<DIV style="position:absolute;top:618;left:283"><nobr><span class="ft48">16</span></nobr></DIV>
<DIV style="position:absolute;top:618;left:392"><nobr><span class="ft48">15</span></nobr></DIV>
<DIV style="position:absolute;top:618;left:504"><nobr><span class="ft48">14</span></nobr></DIV>
<DIV style="position:absolute;top:658;left:205"><nobr><span class="ft48">256</span></nobr></DIV>
<DIV style="position:absolute;top:658;left:283"><nobr><span class="ft48">16</span></nobr></DIV>
<DIV style="position:absolute;top:658;left:392"><nobr><span class="ft48">17</span></nobr></DIV>
<DIV style="position:absolute;top:658;left:504"><nobr><span class="ft48">15</span></nobr></DIV>
<DIV style="position:absolute;top:697;left:205"><nobr><span class="ft48">512</span></nobr></DIV>
<DIV style="position:absolute;top:697;left:283"><nobr><span class="ft48">16</span></nobr></DIV>
<DIV style="position:absolute;top:697;left:392"><nobr><span class="ft48">19</span></nobr></DIV>
<DIV style="position:absolute;top:697;left:504"><nobr><span class="ft48">16</span></nobr></DIV>
<DIV style="position:absolute;top:736;left:183"><nobr><span class="ft48">1,024</span></nobr></DIV>
<DIV style="position:absolute;top:736;left:283"><nobr><span class="ft48">16</span></nobr></DIV>
<DIV style="position:absolute;top:736;left:392"><nobr><span class="ft48">21</span></nobr></DIV>
<DIV style="position:absolute;top:736;left:504"><nobr><span class="ft48">17</span></nobr></DIV>
<DIV style="position:absolute;top:267;left:760"><nobr><span class="ft47"><b>Bits Per Number</b></span></nobr></DIV>
<DIV style="position:absolute;top:306;left:609"><nobr><span class="ft47"><b>Number RVL Gamma</b></span></nobr></DIV>
<DIV style="position:absolute;top:306;left:954"><nobr><span class="ft47"><b>Delta</b></span></nobr></DIV>
<DIV style="position:absolute;top:344;left:656"><nobr><span class="ft48">2,048</span></nobr></DIV>
<DIV style="position:absolute;top:344;left:754"><nobr><span class="ft48">16</span></nobr></DIV>
<DIV style="position:absolute;top:344;left:861"><nobr><span class="ft48">23</span></nobr></DIV>
<DIV style="position:absolute;top:344;left:972"><nobr><span class="ft48">18</span></nobr></DIV>
<DIV style="position:absolute;top:383;left:656"><nobr><span class="ft48">2,048</span></nobr></DIV>
<DIV style="position:absolute;top:383;left:754"><nobr><span class="ft48">16</span></nobr></DIV>
<DIV style="position:absolute;top:383;left:861"><nobr><span class="ft48">23</span></nobr></DIV>
<DIV style="position:absolute;top:383;left:972"><nobr><span class="ft48">18</span></nobr></DIV>
<DIV style="position:absolute;top:423;left:656"><nobr><span class="ft48">4,096</span></nobr></DIV>
<DIV style="position:absolute;top:423;left:754"><nobr><span class="ft48">16</span></nobr></DIV>
<DIV style="position:absolute;top:423;left:861"><nobr><span class="ft48">25</span></nobr></DIV>
<DIV style="position:absolute;top:423;left:972"><nobr><span class="ft48">19</span></nobr></DIV>
<DIV style="position:absolute;top:462;left:656"><nobr><span class="ft48">8,192</span></nobr></DIV>
<DIV style="position:absolute;top:462;left:754"><nobr><span class="ft48">16</span></nobr></DIV>
<DIV style="position:absolute;top:462;left:861"><nobr><span class="ft48">27</span></nobr></DIV>
<DIV style="position:absolute;top:462;left:972"><nobr><span class="ft48">20</span></nobr></DIV>
<DIV style="position:absolute;top:501;left:641"><nobr><span class="ft48">16,384</span></nobr></DIV>
<DIV style="position:absolute;top:501;left:754"><nobr><span class="ft48">24</span></nobr></DIV>
<DIV style="position:absolute;top:501;left:861"><nobr><span class="ft48">29</span></nobr></DIV>
<DIV style="position:absolute;top:501;left:972"><nobr><span class="ft48">21</span></nobr></DIV>
<DIV style="position:absolute;top:540;left:641"><nobr><span class="ft48">32,768</span></nobr></DIV>
<DIV style="position:absolute;top:540;left:754"><nobr><span class="ft48">24</span></nobr></DIV>
<DIV style="position:absolute;top:540;left:861"><nobr><span class="ft48">31</span></nobr></DIV>
<DIV style="position:absolute;top:540;left:972"><nobr><span class="ft48">24</span></nobr></DIV>
<DIV style="position:absolute;top:579;left:641"><nobr><span class="ft48">65,536</span></nobr></DIV>
<DIV style="position:absolute;top:579;left:754"><nobr><span class="ft48">24</span></nobr></DIV>
<DIV style="position:absolute;top:579;left:861"><nobr><span class="ft48">33</span></nobr></DIV>
<DIV style="position:absolute;top:579;left:972"><nobr><span class="ft48">25</span></nobr></DIV>
<DIV style="position:absolute;top:618;left:626"><nobr><span class="ft48">131,072</span></nobr></DIV>
<DIV style="position:absolute;top:618;left:754"><nobr><span class="ft48">24</span></nobr></DIV>
<DIV style="position:absolute;top:618;left:861"><nobr><span class="ft48">35</span></nobr></DIV>
<DIV style="position:absolute;top:618;left:972"><nobr><span class="ft48">26</span></nobr></DIV>
<DIV style="position:absolute;top:658;left:626"><nobr><span class="ft48">262,144</span></nobr></DIV>
<DIV style="position:absolute;top:658;left:754"><nobr><span class="ft48">24</span></nobr></DIV>
<DIV style="position:absolute;top:658;left:861"><nobr><span class="ft48">37</span></nobr></DIV>
<DIV style="position:absolute;top:658;left:972"><nobr><span class="ft48">27</span></nobr></DIV>
<DIV style="position:absolute;top:697;left:626"><nobr><span class="ft48">524,288</span></nobr></DIV>
<DIV style="position:absolute;top:697;left:754"><nobr><span class="ft48">24</span></nobr></DIV>
<DIV style="position:absolute;top:697;left:861"><nobr><span class="ft48">39</span></nobr></DIV>
<DIV style="position:absolute;top:697;left:972"><nobr><span class="ft48">28</span></nobr></DIV>
<DIV style="position:absolute;top:736;left:604"><nobr><span class="ft48">1,048,576</span></nobr></DIV>
<DIV style="position:absolute;top:736;left:754"><nobr><span class="ft48">24</span></nobr></DIV>
<DIV style="position:absolute;top:736;left:861"><nobr><span class="ft48">41</span></nobr></DIV>
<DIV style="position:absolute;top:736;left:972"><nobr><span class="ft48">29</span></nobr></DIV>
</DIV>
<!-- Page 43 -->
<a name="43"></a>
<DIV style="position:relative;width:1188;height:918;">
<STYLE type="text/css">
<!--
	.ft49{font-size:32px;font-family:Times;color:#000000;}
	.ft50{font-size:32px;font-family:Times;color:#000000;}
	.ft51{font-size:18px;font-family:Times;color:#000000;}
-->
</STYLE>
<DIV style="position:absolute;top:803;left:902"><nobr><span class="ft3">© 2006, Jamie Callan</span></nobr></DIV>
<DIV style="position:absolute;top:812;left:507"><nobr><span class="ft4">43</span></nobr></DIV>
<DIV style="position:absolute;top:122;left:346"><nobr><span class="ft0"><b>Inverted File Compression:</b></span></nobr></DIV>
<DIV style="position:absolute;top:168;left:481"><nobr><span class="ft0"><b>Comparison</b></span></nobr></DIV>
<DIV style="position:absolute;top:265;left:644"><nobr><span class="ft49"><b>Bits per pointer</b></span></nobr></DIV>
<DIV style="position:absolute;top:310;left:186"><nobr><span class="ft49"><b>Method</b></span></nobr></DIV>
<DIV style="position:absolute;top:310;left:534"><nobr><span class="ft49"><b>Bible GNUbib Comact TREC</b></span></nobr></DIV>
<DIV style="position:absolute;top:355;left:186"><nobr><span class="ft50">Unary</span></nobr></DIV>
<DIV style="position:absolute;top:355;left:526"><nobr><span class="ft50">264.00</span></nobr></DIV>
<DIV style="position:absolute;top:355;left:666"><nobr><span class="ft50">920.00</span></nobr></DIV>
<DIV style="position:absolute;top:355;left:796"><nobr><span class="ft50">490.001719.00</span></nobr></DIV>
<DIV style="position:absolute;top:400;left:186"><nobr><span class="ft50">Binary</span></nobr></DIV>
<DIV style="position:absolute;top:400;left:544"><nobr><span class="ft50">15.00</span></nobr></DIV>
<DIV style="position:absolute;top:400;left:684"><nobr><span class="ft50">16.00</span></nobr></DIV>
<DIV style="position:absolute;top:400;left:813"><nobr><span class="ft50">18.00</span></nobr></DIV>
<DIV style="position:absolute;top:400;left:941"><nobr><span class="ft50">20.00</span></nobr></DIV>
<DIV style="position:absolute;top:446;left:186"><nobr><span class="ft50">Bernouli</span></nobr></DIV>
<DIV style="position:absolute;top:446;left:562"><nobr><span class="ft50">9.67</span></nobr></DIV>
<DIV style="position:absolute;top:446;left:684"><nobr><span class="ft50">11.65</span></nobr></DIV>
<DIV style="position:absolute;top:446;left:813"><nobr><span class="ft50">10.58</span></nobr></DIV>
<DIV style="position:absolute;top:446;left:941"><nobr><span class="ft50">12.61</span></nobr></DIV>
<DIV style="position:absolute;top:491;left:186"><nobr><span class="ft50">Gamma</span></nobr></DIV>
<DIV style="position:absolute;top:491;left:562"><nobr><span class="ft50">6.55</span></nobr></DIV>
<DIV style="position:absolute;top:491;left:701"><nobr><span class="ft50">5.69</span></nobr></DIV>
<DIV style="position:absolute;top:491;left:831"><nobr><span class="ft50">4.48</span></nobr></DIV>
<DIV style="position:absolute;top:491;left:959"><nobr><span class="ft50">6.43</span></nobr></DIV>
<DIV style="position:absolute;top:536;left:186"><nobr><span class="ft50">Delta Code</span></nobr></DIV>
<DIV style="position:absolute;top:536;left:562"><nobr><span class="ft50">6.26</span></nobr></DIV>
<DIV style="position:absolute;top:536;left:701"><nobr><span class="ft50">5.08</span></nobr></DIV>
<DIV style="position:absolute;top:536;left:831"><nobr><span class="ft50">4.36</span></nobr></DIV>
<DIV style="position:absolute;top:536;left:959"><nobr><span class="ft50">6.19</span></nobr></DIV>
<DIV style="position:absolute;top:581;left:186"><nobr><span class="ft50">Observed Freq</span></nobr></DIV>
<DIV style="position:absolute;top:581;left:561"><nobr><span class="ft50">5.92</span></nobr></DIV>
<DIV style="position:absolute;top:581;left:701"><nobr><span class="ft50">4.83</span></nobr></DIV>
<DIV style="position:absolute;top:581;left:831"><nobr><span class="ft50">4.21</span></nobr></DIV>
<DIV style="position:absolute;top:581;left:959"><nobr><span class="ft50">5.83</span></nobr></DIV>
<DIV style="position:absolute;top:626;left:186"><nobr><span class="ft50">Bernoulli</span></nobr></DIV>
<DIV style="position:absolute;top:626;left:562"><nobr><span class="ft50">6.13</span></nobr></DIV>
<DIV style="position:absolute;top:626;left:701"><nobr><span class="ft50">6.17</span></nobr></DIV>
<DIV style="position:absolute;top:626;left:831"><nobr><span class="ft50">5.40</span></nobr></DIV>
<DIV style="position:absolute;top:626;left:959"><nobr><span class="ft50">5.73</span></nobr></DIV>
<DIV style="position:absolute;top:671;left:186"><nobr><span class="ft50">Hyperbolic</span></nobr></DIV>
<DIV style="position:absolute;top:671;left:561"><nobr><span class="ft50">5.77</span></nobr></DIV>
<DIV style="position:absolute;top:671;left:701"><nobr><span class="ft50">5.17</span></nobr></DIV>
<DIV style="position:absolute;top:671;left:831"><nobr><span class="ft50">4.65</span></nobr></DIV>
<DIV style="position:absolute;top:671;left:959"><nobr><span class="ft50">5.74</span></nobr></DIV>
<DIV style="position:absolute;top:716;left:186"><nobr><span class="ft50">Skewed Bernoulli</span></nobr></DIV>
<DIV style="position:absolute;top:716;left:562"><nobr><span class="ft50">5.68</span></nobr></DIV>
<DIV style="position:absolute;top:716;left:701"><nobr><span class="ft50">4.71</span></nobr></DIV>
<DIV style="position:absolute;top:716;left:831"><nobr><span class="ft50">4.24</span></nobr></DIV>
<DIV style="position:absolute;top:716;left:959"><nobr><span class="ft50">5.28</span></nobr></DIV>
<DIV style="position:absolute;top:761;left:186"><nobr><span class="ft50">Batched Freq</span></nobr></DIV>
<DIV style="position:absolute;top:761;left:562"><nobr><span class="ft50">5.61</span></nobr></DIV>
<DIV style="position:absolute;top:761;left:701"><nobr><span class="ft50">4.65</span></nobr></DIV>
<DIV style="position:absolute;top:761;left:831"><nobr><span class="ft50">4.03</span></nobr></DIV>
<DIV style="position:absolute;top:761;left:959"><nobr><span class="ft50">5.27</span></nobr></DIV>
<DIV style="position:absolute;top:806;left:623"><nobr><span class="ft51">(Managing Gigabytes)</span></nobr></DIV>
</DIV>
<!-- Page 44 -->
<a name="44"></a>
<DIV style="position:relative;width:1188;height:918;">
<STYLE type="text/css">
<!--
-->
</STYLE>
<DIV style="position:absolute;top:803;left:902"><nobr><span class="ft3">© 2006, Jamie Callan</span></nobr></DIV>
<DIV style="position:absolute;top:812;left:507"><nobr><span class="ft4">44</span></nobr></DIV>
<DIV style="position:absolute;top:122;left:346"><nobr><span class="ft0"><b>Inverted File Compression:</b></span></nobr></DIV>
<DIV style="position:absolute;top:168;left:503"><nobr><span class="ft0"><b>Summary</b></span></nobr></DIV>
<DIV style="position:absolute;top:294;left:182"><nobr><span class="ft5">•</span></nobr></DIV>
<DIV style="position:absolute;top:299;left:216"><nobr><span class="ft6"><b>A compressed inverted file, without positional information:</b></span></nobr></DIV>
<DIV style="position:absolute;top:342;left:236"><nobr><span class="ft7">– About 10% the size of the original text</span></nobr></DIV>
<DIV style="position:absolute;top:386;left:290"><nobr><span class="ft7">» Delta encoding, variable length encoding</span></nobr></DIV>
<DIV style="position:absolute;top:424;left:182"><nobr><span class="ft5">•</span></nobr></DIV>
<DIV style="position:absolute;top:429;left:216"><nobr><span class="ft6"><b>A compressed inverted file with positional information:</b></span></nobr></DIV>
<DIV style="position:absolute;top:472;left:236"><nobr><span class="ft7">– About 20-30% the size of the original text</span></nobr></DIV>
<DIV style="position:absolute;top:516;left:290"><nobr><span class="ft7">» Delta encoding, variable length encoding</span></nobr></DIV>
<DIV style="position:absolute;top:553;left:182"><nobr><span class="ft5">•</span></nobr></DIV>
<DIV style="position:absolute;top:559;left:216"><nobr><span class="ft6"><b>More aggressive compression</b></span></nobr></DIV>
<DIV style="position:absolute;top:602;left:236"><nobr><span class="ft7">– Yields small improvements</span></nobr></DIV>
<DIV style="position:absolute;top:646;left:236"><nobr><span class="ft7">– Is often much slower</span></nobr></DIV>
<DIV style="position:absolute;top:683;left:182"><nobr><span class="ft5">•</span></nobr></DIV>
<DIV style="position:absolute;top:689;left:216"><nobr><span class="ft6"><b>Adaptive compression never used on inverted lists</b></span></nobr></DIV>
<DIV style="position:absolute;top:732;left:236"><nobr><span class="ft7">– Why?</span></nobr></DIV>
</DIV>
</BODY>
</HTML>
